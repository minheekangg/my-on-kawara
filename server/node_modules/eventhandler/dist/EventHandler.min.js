!function(t,s){"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?module.exports=s():t.EventHandler=s()}(this,function(){"use strict";function t(t){this._owner=t||this,this._events={},this._subscribers,this._subscriptions}return t.prototype.emit=function(t,s){var i=this._events[t];if(void 0!==i)for(var e=0,r=i.length;r>e;++e)i[e].call(this._owner,s);var o=this._subscribers;if(void 0!==o)for(var e=0,r=o.length;r>e;++e)o[e].emit(t,s)},t.prototype.trigger=t.prototype.emit,t.prototype.on=function(t,s){var i=this._events[t];void 0===i&&(i=this._events[t]=[]),i.push(s)},t.prototype.addEventListener=t.prototype.on,t.prototype.removeEventListener=function(t,s){var i=this._events[t];if(void 0!==i)for(var e=i.length-1;e>-1;--e)if(i[e]===s){for(;e>0;--e)i[e]=i[e-1];i.shift();break}},t.prototype.removeAllEventListeners=function(t){var s=this._events[t];if(void 0!==s)for(var i=s.length-1;i>-1;--i)s.shift()},t.prototype.removeAllListeners=function(){this._events={}},t.prototype.subscribe=function(t){void 0===t._subscribers&&(t._subscribers=[]),void 0===this._subscriptions&&(this._subscriptions=[]),t._subscribers.push(this),this._subscriptions.push(t)},t.prototype.unsubscribe=function(t){for(var s=t._subscribers,i=this._subscriptions,e=this._owner,r=s.length-1;r>-1;--r)if(s[r]===e){for(;r>0;--r)s[r]=s[r-1];s.shift();break}for(r=i.length-1;r>-1;--r)if(i[r]===t){for(;r>0;--r)i[r]=i[r-1];i.shift();break}},t.prototype.removeAllSubscribers=function(){var t=this._subscribers;if(void 0!==t)for(var s=this._owner,i=t.length-1;i>-1;--i)t[i].unsubscribe(s)},t.prototype.removeAllSubscriptions=function(){var t=this._subscriptions;if(void 0!==t)for(var s=t.length-1;s>-1;--s)this.unsubscribe(t[s])},t.prototype.setOwner=function(t){this._owner=t||this},t});
//# sourceMappingURL=EventHandler.min.map