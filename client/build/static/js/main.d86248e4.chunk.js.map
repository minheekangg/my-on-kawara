{"version":3,"sources":["components/articles/articles.js","utils/constants.js","redux/action/fetchActions.js","components/articles/index.js","components/create/photo/create-photo.js","redux/action/createActions.js","components/create/photo/index.js","components/create/destination/create-destinations.js","components/create/destination/index.js","components/create/trip/create-trip.js","components/create/trip/index.js","components/create/create.js","components/hoc/withAuth.js","components/create/index.js","components/edit/trip/trip.js","components/edit/trip/index.js","redux/action/updateActions.js","components/edit/photo/create-photo.js","components/edit/photo/photos-list.js","components/edit/photo/index.js","redux/action/deleteActions.js","components/edit/stickers/create-sticker/create-sticker.js","components/edit/stickers/create-sticker/index.js","components/edit/stickers/photos-list.js","components/edit/stickers/index.js","components/edit/delete-trip/delete-trip.js","components/edit/delete-trip/index.js","components/edit/edit.js","components/edit/index.js","components/show-article/sticker.js","components/show-article/article-title/title.js","components/show-article/article-title/index.js","components/show-article/article-pictures/picture-container.js","components/show-article/article-pictures/index.js","components/show-article/show-article.js","components/show-article/index.js","app.js","redux/reducers/articlesReducer.js","redux/reducers/destinationReducer.js","redux/reducers/tripReducer.js","redux/reducers/photoReducer.js","redux/reducers/stickerReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["StyledWrapper","styled","div","StyledArticlesWrapper","ArticleWrapper","Articles","props","fetchArticles","articles","link","toEdit","useEffect","length","map","e","formattedDates","moment","startDate","format","endDate","key","_id","onClick","history","push","title","ActionTypes","baseURL","process","console","log","fetchArticle","id","dispatch","type","axios","get","headers","accept","then","r","data","trip","payload","catch","err","connect","state","ownProps","CreatePhoto","formatPeople","people","d","name","text","value","formatDestinations","destinations","city","formatDates","photo","destination","foundDestination","find","calculateDays","handleChange","setState","handleSubmit","preventDefault","createPhotos","src","date","location","tag","this","tripId","window","cloudinary","createUploadWidget","cloudName","uploadPreset","folder","tags","error","result","event","newPhoto","url","info","publicId","public_id","open","Form","onSubmit","autoComplete","width","Field","Dropdown","placeholder","multiple","fluid","selection","options","onChange","required","control","Input","label","Button","React","Component","withRouter","start","end","dates","currDate","startOf","lastDate","clone","utcOffset","set","hour","minute","second","millisecond","add","diff","getState","post","StyledFormWrapper","CreateDestinations","useState","setDestinations","idx","newDestinations","createDestinations","target","selected","minDate","maxDate","concat","updatedDestinations","pop","style","marginTop","CreateTrip","isTripFilledOut","setIsTripFilledOut","setPeople","Date","setStartDate","setEndDate","content","form","setForm","updateField","formattedStartDate","formatttedEndDate","createTrip","showMonthDropdown","showYearDropdown","p","users","handlePeopleChange","updatedPeople","TextArea","minHeight","create","CreateArticle","isDestinationsFetched","isTripFetched","withAuth","WrappedComponent","isSignedIn","onAuthChange","auth","onSignIn","signIn","renderSignInOrReturn","Group","icon","negative","labelPosition","Icon","Or","as","Link","to","gapi","load","client","init","clientId","scope","auth2","getAuthInstance","listen","Loader","active","inline","currentUser","getBasicProfile","getEmail","fetched","Create","updatedForm","setUpdatedForm","current","handleAdd","field","handleSubtract","params","updateTrip","toDate","patch","Trip","PhotosContainer","StyledSemanticLabel","StyledButton","PhotosList","creating","changeCreating","setPhoto","updated","reload","updating","photoId","updatePhoto","photos","Modal","trigger","height","crop","alt","closeIcon","Content","image","Actions","deletePhoto","actions","delete","CreateSticker","forEach","size","isSmall","createSticker","Checkbox","checked","stickers","isCreating","deleteSticker","setCreateSticker","changeOpen","Header","deleteTrip","handleDelete","redirect","deleted","status","DeleteTrip","EditArticle","useParams","updateProp","fetching","Segment","dispatchAction","Edit","Container","x","y","img","isDragging","css","Sticker","originalX","originalY","translateX","translateY","lastTranslateX","lastTranslateY","handleMouseDown","clientX","clientY","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","onDragStart","onDrag","prevState","onDragEnd","children","onMouseDown","left","top","TitleWrapper","StickerContainer","Title","renderPeople","peopleNames","join","dimensions","container","offsetWidth","offsetHeight","s","Math","floor","random","className","textTransform","ref","el","renderStickers","PictureContainerWrapper","PictureFullBleed","PostContentContainer","PicturesContainer","PictureDescription","TripDescription","AdditionalContent","PictureContainer","expandText","setExpandText","currentPicture","setCurrentPicture","showImage","setShowImage","backgroundImage","desc","rel","href","renderDescription","margin","ShowArticle","exact","path","render","component","Article","initialState","combineReducers","action","response","newTrip","store","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d86248e4.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport moment from \"moment\";\n\nconst StyledWrapper = styled.div`\n    max-width: 400px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n`;\n    \nconst StyledArticlesWrapper = styled.div`\n    display: flex;\n    border: 1px solid;\n    flex-direction: column;\n    padding: 10px;\n    margin: 10px;\n    width: 100%;\n\n    h2 {\n        border-bottom: 1px dotted;\n    }\n\n`;\n    \nconst ArticleWrapper = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-width: 100%;\n    margin: 10px 0;\n    cursor: pointer;\n\n    &:hover {\n        color: red;\n    }\n`;\n\n\nconst Articles = (props) => {\n    const { fetchArticles, articles } = props;\n    const link = !!props.toEdit ? 'edit' : 'articles';\n    \n    useEffect(() => {\n        fetchArticles();\n    }, [fetchArticles]);\n\n    return <StyledWrapper>\n        {props.articles && !!props.articles.length \n            ? <StyledArticlesWrapper>\n                <h2>Travel</h2>\n                {articles.map(e => {\n                    const formattedDates = `${moment(e.startDate).format(\"MM/DD/YYYY\")} - ${moment(e.endDate).format(\"MM/DD/YYYY\")}`\n                    return <ArticleWrapper key={e._id} onClick={() => props.history.push(`${link}/${e._id}`)}>\n                        <div>{e.title}</div>\n                        <div>{formattedDates}</div>\n                    </ArticleWrapper>\n                })}\n            </StyledArticlesWrapper>\n            : <div>coming soon!</div>\n        }\n    </StyledWrapper>\n};\n\nexport default Articles;\n","export const ActionTypes = {\n    FETCH_ARTICLES: \"FETCH_ARTICLES\",\n    UPDATE_PROP: \"UPDATE_PROP\",\n    RESET: \"RESET\",\n    CREATE_DESTINATIONS: \"CREATE_DESTINATIONS\",\n    CREATE_TRIP: \"CREATE_TRIP\",\n    CREATE_PHOTO: \"CREATE_PHOTO\",\n    FETCH_TRIP: \"FETCH_TRIP\",\n    UPDATE_TRIP: \"UPDATE_TRIP\",\n    CREATE_STICKER: \"CREATE_STICKER\",\n    SET_CREATE_STICKER: \"SET_CREATE_STICKER\",\n    DELETE_PHOTO: \"DELETE_PHOTO\",\n    DELETE_STICKER: \"DELETE_STICKER\",\n    DELETE_TRIP: \"DELETE_TRIP\",\n    UPDATE_PHOTO: \"UPDATE_PHOTO\"\n};","import { ActionTypes } from '../../utils/constants';\nimport axios from 'axios';\n\nconst baseURL = process.env.REACT_APP_BASE_URL || 'http://localhost:8000';\nconsole.log('base url is', baseURL)\n\nexport const fetchArticles = () => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.FETCH_ARTICLES + '_PENDING' }\n        )\n        return axios.get(baseURL + \"/api/trips\",\n            {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                }\n            })\n            .then(r => {\n                if (r && r.data && r.data.trip && !!r.data.trip.length) {\n                    dispatch({ type: ActionTypes.FETCH_ARTICLES + '_FULFILLED', payload: r.data.trip });\n                }\n            })\n            .catch(err=> {\n                dispatch({ type: ActionTypes.FETCH_ARTICLES + '_REJECTED', payload: err });\n            })\n    }\n}\n\nexport const fetchArticle = (id) => {\n\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.FETCH_TRIP + '_PENDING' }\n        )\n        return axios.get(\n            `${baseURL}/api/trips/${id}`,\n            {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                }\n            })\n            .then(r => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({ type: ActionTypes.FETCH_TRIP + '_FULFILLED', payload: r.data.trip });\n                }\n            })\n            .catch(err=> {\n                dispatch({ type: ActionTypes.FETCH_TRIP + '_REJECTED', payload: err });\n            })\n    }\n}","import { connect } from 'react-redux';\nimport Articles from './articles';\n\nimport { fetchArticles } from 'redux/action/fetchActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n       articles: (state.articles && state.articles.articles) || [],\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { fetchArticles })(Articles);","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport moment from \"moment\";\n\nimport { Image } from \"cloudinary-react\";\nimport { Form, Dropdown, Input } from \"semantic-ui-react\";\nimport styled from \"styled-components\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\nconst UPLOAD_PRESET = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET;\n\nconst StyledWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n`;\n\nclass CreatePhoto extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      photo: {\n        src: [],\n        people: [],\n        date: \"\",\n        destination: \"\",\n        location: \"\",\n      },\n      people: props.people,\n      destinations: props.destinations,\n    };\n  }\n\n  componentDidMount() {\n    const tag = this.props.tripId ? [this.props.tripId] : [];\n\n      window.cloudinary.createUploadWidget(\n      {\n        cloudName: MY_CLOUD_NAME,\n        uploadPreset: UPLOAD_PRESET,\n        folder: \"trips\",\n        tags: tag,\n        format: 'jpg',\n      },\n      (error, result) => {\n        if (result && result.event === \"success\") {\n          const newPhoto = {\n            url: result.info.url,\n            publicId: result.info.public_id,\n          }\n          this.setState({\n            photo: {\n              ...this.state.photo,\n              src: [...this.state.photo.src, newPhoto]\n            }\n          });\n        }\n      }\n    ).open()\n  }\n\n  formatPeople = (people) => {\n    if (!people || people.length <= 0) {\n        return [];\n    }\n   return people.map((d) => {\n        return {\n            key: d.name,\n            text: d.name,\n            value: d._id,\n        };\n    });\n  }\n\n  formatDestinations = (destinations) => {\n    if (!destinations || destinations.length <= 0) {\n        return [];\n    }\n\n    return destinations.map((d) => {\n        return {\n            key: d.city,\n            text: d.city,\n            value: d._id,\n        };\n    });\n  }\n\n  formatDates = (destinations) => {\n    if (!destinations || destinations.length <= 0) {\n        return [];\n    }\n\n    if (!this.state.photo.destination) {\n      return [];\n    }\n\n    const foundDestination = destinations.find(d=>d._id === this.state.photo.destination);\n    const dates = calculateDays(foundDestination.startDate, foundDestination.endDate)\n\n    return dates.map(d => {\n      return {\n            key: d,\n            text: d,\n            value: d,\n        };\n    })\n  }\n\n  handleChange = (value, key)=> {\n      this.setState ({\n        photo: {\n          ...this.state.photo,\n          [key]: value\n        }\n      })\n      return;\n  }\n\n  handleSubmit = (e) => {\n      e.preventDefault();\n      this.props.createPhotos(this.state.photo);\n      this.props.history.push(\"/articles\")\n      return;\n  }\n  \n  render() {\n    return (\n      <StyledWrapper>\n        <Form onSubmit={this.handleSubmit} autoComplete=\"off\">\n            {this.state.photo.src &&\n                this.state.photo.src.length > 0 &&\n                this.state.photo.src.map((e) => {\n                    return (\n                        <Image\n                            key={e.publicId}\n                            publicId={e.publicId}\n                            width=\"100\"\n                            cloudName={MY_CLOUD_NAME}\n                            format='jpg'\n                        />\n                    );\n                })}\n                <Form.Field>\n              <label>\n                People:\n                <Dropdown\n                    placeholder=\"People\"\n                    name=\"people\"\n                    multiple\n                    fluid\n                    selection\n                    options={this.formatPeople(this.state.people)}\n                    onChange={(e, { value }) =>\n                        this.handleChange(value, \"people\")\n                    }\n                />\n                </label>\n                <label>\n                  Destination:\n                  <Dropdown\n                      placeholder=\"Destination\"\n                      name=\"destination\"\n                      selection\n                      required\n                      fluid\n                      options={this.formatDestinations(this.state.destinations)}\n                      onChange={(e, { value }) =>\n                          this.handleChange(value, \"destination\")\n                      }\n                  />\n                </label>\n                {this.state.photo.destination && (\n                  <label>\n                    Date: \n                    <Dropdown\n                    placeholder=\"Date\"\n                    name=\"date\"\n                    selection\n                    fluid\n                    options={this.formatDates(this.state.destinations)}\n                    onChange={(e, { value }) =>\n                    this.handleChange(value, \"date\")\n                    }\n                    />\n                  </label>\n                )}\n\n                </Form.Field>\n                <Form.Field\n                    control={Input}\n                    label=\"Location\"\n                    name=\"location\"\n                    fluid\n                    value={this.state.photo.location}\n                    onChange={(e, { value }) =>\n                        this.handleChange(value, \"location\")\n                    }\n                />\n            <Form.Button>Submit</Form.Button>\n        </Form>\n      </StyledWrapper>\n    );\n  }\n}\n\nexport default withRouter(CreatePhoto);\n\nconst calculateDays = (start, end) => {\n  var dates = [];\n\n  var currDate = moment(start).startOf('day');\n  var lastDate = moment(end).startOf('day');\n  dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"))\n  \n\n  while (currDate.add(1, 'days').diff(lastDate) <= 1) {\n    dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"));\n  }\n\n  return dates;\n}","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\nconst baseURL = process.env.REACT_APP_BASE_URL || 'http://localhost:8000';\n\nexport const createDestinations = (destinations) => {\n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_DESTINATIONS + \"_PENDING\" });\n\n        let tripId = destinations.tripId;\n\n        if (!tripId) {\n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_DESTINATIONS + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n\n        return axios\n            .post(baseURL + \"/api/destinations\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: { destinations, tripId }\n            })\n            .then((r) => {\n                if (r && r.data && r.data.destinations && r.data.destinations.length > 0) {\n                    dispatch({\n                        type: ActionTypes.CREATE_DESTINATIONS + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_DESTINATIONS + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n};\n\nexport const createTrip = payload => {\n    return (dispatch) => {\n        dispatch({ type: ActionTypes.CREATE_TRIP + \"_PENDING\" });\n        return axios\n            .post(baseURL + \"/api/trips\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: payload\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.CREATE_TRIP + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const createPhotos = payload => {\n    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_PHOTO + \"_PENDING\" });\n\n        let tripId = payload.tripId;\n        \n        if (!tripId) {\n            \n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n        return axios\n            .post(baseURL + \"/api/photos\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {...payload, tripId}\n            })\n            .then((r) => {\n                if (r && r.data) {\n                    dispatch({\n                        type: ActionTypes.CREATE_PHOTO + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const setCreateSticker = () => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.SET_CREATE_STICKER }\n        )\n    }\n}\n\nexport const createSticker = payload => {\n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_STICKER + \"_PENDING\" });\n\n        let tripId = payload.tripId;\n        \n        if (!tripId) {     \n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n        return axios\n            .post(baseURL + \"/api/stickers\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: payload,\n            })\n            .then((r) => {\n                if (r && r.data) {\n                    dispatch({\n                        type: ActionTypes.CREATE_STICKER + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n","import { connect } from 'react-redux';\nimport CreatePhoto from './create-photo';\n\nimport { createPhotos } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    const destinations = state.destination && state.destination.destinations;\n\n    return {\n        people: (trip && trip.people) || [],\n        tripId: (trip && trip._id) || \"\",\n        destinations: destinations || [],\n        ...ownProps,\n    };\n};\n\n\nexport default connect(mapStateToProps, { createPhotos })(\n    CreatePhoto\n);","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from \"moment\";\n\nimport { Form, Button } from \"semantic-ui-react\";\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateDestinations = (props) => {\n    const [destinations, setDestinations] = useState([{\n        city: \"\",\n        startDate: \"\",\n        endDate: \"\"\n    }]);\n\n    const handleChange = (value, key, idx)=> {\n        let newDestinations = [...destinations];\n        let current = newDestinations[idx];\n        \n        current[key] = value;\n        \n        setDestinations(newDestinations);\n        return;\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        destinations.map(city=>{\n            const startDate = moment(city.startDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            city.startDate = startDate;\n\n            const endDate = moment(city.endDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n            city.endDate = endDate;\n\n            return city;\n        })\n        \n        return props.createDestinations(destinations);\n    }\n\n    const handleAddBtn = (e) => {\n        e.preventDefault();\n        setDestinations(destinations.concat({ city: \"\", dates: [] }));\n        return;\n    }\n\n    const handleSubtractBtn = (e) => {\n        e.preventDefault();\n        if (destinations.length <= 1) {\n            return;\n        }\n        let updatedDestinations = [...destinations];\n        updatedDestinations.pop();\n        setDestinations(updatedDestinations)\n        return;\n    }\n\n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    {\n                        destinations.map((d, idx) => {\n                            return <div key={`destination-${idx}`}>\n                                <Form.Field>\n                                    <label>\n                                        City:\n                                        <input\n                                            type=\"text\"\n                                            name=\"city\"\n                                            label=\"City\"\n                                            placeholder=\"Where does this take place?\"\n                                            value={d.city}\n                                            onChange={(e) => handleChange(e.target.value, \"city\", idx)}\n                                            required\n                                        />\n                                    </label>\n                                    <label>\n                                        Start Date:\n                                        <DatePicker\n                                            onChange={date => handleChange(date, \"startDate\", idx)}\n                                            selected={d.startDate}\n                                            minDate={props.minDate}\n                                            maxDate={props.maxDate}\n                                            startDate={props.minDate}\n                                        />\n                                    </label>\n                                    <label>\n                                        End Date:\n                                        <DatePicker\n                                            onChange={date => handleChange(date, \"endDate\", idx)}\n                                            selected={d.endDate}\n                                            minDate={props.minDate}\n                                            maxDate={props.maxDate}\n                                            startDate={d.startDate}\n                                        />\n                                    </label>\n                                </Form.Field>\n                            </div>\n                        })\n                    }\n                <Button onClick={handleAddBtn}>+</Button>\n                <Button onClick={handleSubtractBtn}>-</Button>\n                <Form.Button style={{ marginTop: '30px', width: '100%' }}>Submit</Form.Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateDestinations;\n","import { connect } from 'react-redux';\nimport CreateDestinations from './create-destinations';\n\nimport { createDestinations } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        ...ownProps\n    }\n);\n\n\nexport default connect(mapStateToProps, { createDestinations })(\n    CreateDestinations\n);","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Button, Form, Input, TextArea } from \"semantic-ui-react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport moment from \"moment\";\n\nimport CreateDestination from '../destination';\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateTrip = (props) => {\n    const [isTripFilledOut, setIsTripFilledOut] = useState(false);\n    const [people, setPeople] = useState([{\n        name: \"\",\n    }]);\n    const [startDate, setStartDate] = useState(new Date());\n    const [endDate, setEndDate] = useState(new Date());\n    const [form, setForm] = useState({\n        title: props.title,\n        content: props.content\n    });\n\n\n    const formValidation = () => {\n        if (form.startDate !== \"\" && form.endDate !== \"\" && form.title !== \"\") {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (!!formValidation()) {\n            const formattedStartDate = moment(startDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            const formatttedEndDate = moment(endDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            \n            props.createTrip({...form, people, startDate: formattedStartDate, endDate: formatttedEndDate});\n            setIsTripFilledOut(true)\n        };\n  \n    };\n\n    const updateField = e => {\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        });\n        return;\n    };\n\n    const handlePeopleChange = (name, idx) => {\n        let users = [...people];\n        users[idx].name = name;\n        setPeople(users);\n        return;\n    }\n\n    const handleAddPeople = (e) => {\n        e.preventDefault();\n        setPeople(people.concat({ name: \"\" }))\n    }\n\n    const handleSubtractPeople = (e) => {\n        e.preventDefault();\n        if (people.length <= 1) {\n            return;\n        }\n        let updatedPeople = [...people];\n        updatedPeople.pop();\n        setPeople(updatedPeople)\n        return;\n    }\n\n    if (isTripFilledOut) {\n        return <CreateDestination minDate={startDate} maxDate={endDate} />\n    }\n\n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    <Form.Field>\n                        <label>\n                            Title:\n                                <input\n                                type=\"text\"\n                                name=\"title\"\n                                placeholder=\"Title of the trip\"\n                                value={form.title}\n                                onChange={updateField}\n                                required\n                            />\n                        </label>\n                    </Form.Field>\n                <Form.Field>\n                    <label>\n                        Start Date:\n                        <DatePicker\n                            selected={startDate} \n                            onChange={date => {\n                                setStartDate(date)\n                                setEndDate(date)\n                            }}\n                            showMonthDropdown\n                            showYearDropdown\n                        />\n                    </label>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        End Date:\n                        <DatePicker\n                            selected={endDate} \n                            onChange={date => setEndDate(date)}\n                            showMonthDropdown\n                            showYearDropdown\n                        />\n                    </label>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        People:\n                        {\n                            people.map((p, idx)=> {\n                                return <Input\n                                    type=\"person\"\n                                    name=\"person\"\n                                    placeholder=\"person name goes here\"\n                                    value={p.name}\n                                    key={`person${idx}`}\n                                    onChange={(e) => handlePeopleChange(e.target.value, idx)}\n                                    required\n                                />\n                            })\n                        }\n                        \n                    </label>\n                    <Button onClick={handleAddPeople}>+</Button>\n                    <Button onClick={handleSubtractPeople}>-</Button>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        Content:\n                    <TextArea\n                            type=\"text-area\"\n                            name=\"content\"\n                            placeholder=\"Tell me more\"\n                            value={form.content}\n                            onChange={updateField}\n                            style={{ minHeight: 100 }}\n                        />\n                    </label>\n                </Form.Field>\n                <Button type=\"submit\" style={{width: '100%'}}>Submit</Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateTrip;\n","import { connect } from 'react-redux';\nimport CreateTrip from './create-trip';\n\nimport { createTrip } from 'redux/action/createActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        startDate: (state.create && state.create.startDate) || \"\",\n        endDate: (state.create && state.create.endDate) || \"\",\n        title: (state.create && state.create.title) || \"\",\n        content: (state.create && state.create.content) || \"\",\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { createTrip })(CreateTrip);","import React from \"react\";\n\nimport CreatePhoto from './photo';\nimport CreateTrip from \"./trip\";\n\nconst CreateArticle = ({ isDestinationsFetched, isTripFetched }) => {\n\n    if (isDestinationsFetched && isTripFetched) {\n        return <CreatePhoto />;\n    }\n\n    return <CreateTrip />;\n};\n\nexport default CreateArticle;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { Loader, Button, Icon } from \"semantic-ui-react\";\n\nconst CLIENT_ID = process.env.REACT_APP_OAUTH;\nconst ADMIN_EMAIL = process.env.REACT_APP_ADMIN_EMAIL;\n\nconst StyledWrapper = styled.div`\n    display: flex;\n    height: 100vh; \n\n    .ui.buttons {margin:auto}\n`;\n\nconst withAuth = (WrappedComponent) => {\n    class AuthorizedComponent extends React.Component {\n        state = { isSignedIn: null };\n\n        componentDidMount() {\n            window.gapi.load('client:auth2', ()=> {\n                window.gapi.client.init({\n                    clientId: CLIENT_ID,\n                    scope: 'email'\n                }).then(()=> {\n                    this.auth = window.gapi.auth2.getAuthInstance();\n                    this.onAuthChange();\n                    this.auth.isSignedIn.listen(this.onAuthChange);\n                })\n            })\n        }\n\n        onAuthChange = () => {\n            this.setState({ isSignedIn: this.auth.isSignedIn.get() })\n        }\n\n        onSignIn = () => {\n            this.auth.signIn();\n        }\n\n        renderSignInOrReturn = () => {\n            return <StyledWrapper>\n                <Button.Group>\n                    <Button icon negative labelPosition='left' onClick={this.onSignIn}>\n                        <Icon name='google' />\n                            Sign in with Google\n                        </Button>\n                    <Button.Or />\n                    <Button as={Link} to=\"/articles\" icon labelPosition='right'>\n                        Return to Articles\n                        <Icon name='right arrow' />\n                    </Button>\n                </Button.Group>\n            </StyledWrapper>\n        }\n\n        render() {\n            if ( this.state.isSignedIn === null ) {\n                return <Loader active inline=\"centered\" />;\n            } else if (this.state.isSignedIn) {\n                if ( this.auth.currentUser.get().getBasicProfile().getEmail() === ADMIN_EMAIL) {\n                    return <WrappedComponent {...this.props} />\n                } else {\n                   return this.renderSignInOrReturn();\n                }\n            } else {\n                return this.renderSignInOrReturn();\n            }\n        }\n    }\n\n\nreturn AuthorizedComponent\n}\n\nexport default withAuth\n","import { connect } from \"react-redux\";\nimport Create from \"./create\";\nimport withAuth from \"../hoc/withAuth\";\n\nconst mapStateToProps = (state) => ({\n    isTripFetched: state && !!state.trip && state.trip.fetched,\n    isDestinationsFetched: state && !!state.destination && state.destination.fetched\n});\n\nexport default withAuth(connect(mapStateToProps)(Create));","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\nimport { Button, Form, Input, TextArea } from \"semantic-ui-react\";\nimport DatePicker from \"react-datepicker\";\n\nconst StyledFormWrapper = styled.div`\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateTrip = (props) => {\n    const [startDate, setStartDate] = useState(props.startDate);\n    const [endDate, setEndDate] = useState(props.endDate);\n    const [people, setPeople] = useState([]);\n    const [destinations, setDestinations] = useState([]);\n    const [form, setForm] = useState({\n        title: props.title,\n        content: props.content,\n    });\n    const [updatedForm, setUpdatedForm] = useState({\n        tripId: props.tripId\n    })\n\n    useEffect(() => {\n        if (!!props.destinations && props.destinations.length > 0) {\n            props.destinations.map(d=> {\n                return setDestinations(destinations => destinations.concat({_id: d._id, city: d.city, startDate: d.startDate, endDate: d.endDate}))\n            })\n        }\n        if (!!props.people && props.people.length > 0) {\n            props.people.map(d => setPeople(people=>people.concat({name: d.name})))\n        }\n        \n        return \n    }, [setPeople, setDestinations, props]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const params =  {\n            ...updatedForm\n        }\n\n        if (moment(startDate).diff(moment(props.startDate), 'days') !== 0) {\n            params.startDate = moment(startDate).utcOffset(0);\n        }\n        \n        if (moment(endDate).diff(moment(props.endDate), 'days') !== 0) {\n            params.endDate = moment(endDate).utcOffset(0);\n        }\n        props.updateTrip(params);\n    };\n\n    const updateField = e => {\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        });\n        setUpdatedForm({\n            ...updatedForm,\n            [e.target.name]: e.target.value\n        });\n        return;\n    };\n\n    const handlePeopleChange = (name, idx) => {\n        let users = [...people];\n        users[idx].name = name;\n        setPeople(users);\n        setUpdatedForm({\n            ...updatedForm,\n            people: users\n        });\n        return;\n    }\n\n    const handleChange = (value, key, idx) => {\n        let newDestinations = [...destinations];\n        let current = newDestinations[idx];\n        \n        if (key === 'startDate' || key === 'endDate') {\n            value = moment(value).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n        }\n\n        current[key] = value;\n\n        setDestinations(newDestinations);\n        setUpdatedForm({\n            ...updatedForm,\n            destinations: newDestinations\n        });\n        return;\n    }\n\n    const handleAdd = (e, field) => {\n        e.preventDefault();\n        if (field === 'people') {\n            setPeople(people.concat({ name: \"\" }))\n        } else if (field === 'destinations') {\n            setDestinations(destinations.concat({city: \"\", startDate: startDate, endDate: endDate }))\n        }\n        return;\n    }\n\n    const handleSubtract = (e, field) => {\n        e.preventDefault();\n        if (field === 'people') {\n            if (people.length <= 1) {\n                return;\n            }\n            let updatedPeople = [...people];\n            updatedPeople.pop();\n            setPeople(updatedPeople)\n            setUpdatedForm({\n                ...updatedForm,\n                people: updatedPeople\n            });\n        } else if (field === 'destinations') {\n            if (destinations.length <= 1) {\n                return;\n            }\n            let updatedDestinations = [...destinations];\n            updatedDestinations.pop();\n            setDestinations(updatedDestinations)\n            setUpdatedForm({\n                ...updatedForm,\n                destinations: updatedDestinations\n            });\n        }\n        return;\n    }\n    \n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    <Form.Field>\n                        <label>\n                            Title:\n                                <input\n                                type=\"text\"\n                                name=\"title\"\n                                placeholder=\"Title of the trip\"\n                                value={form.title}\n                                onChange={updateField}\n                                required\n                            />\n                        </label>\n                    </Form.Field>\n                    {!!startDate && <Form.Field>\n                        <label>\n                            Start Date:\n                            <DatePicker\n                                selected={moment(startDate).toDate()}\n                                onChange={date => setStartDate(moment(date).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }))}\n                                showMonthDropdown\n                                showYearDropdown\n                                startDate={moment(startDate).toDate()}\n                            />\n                        </label>\n                    </Form.Field> }\n                {!!endDate && <Form.Field>\n                    <label>\n                        End Date:\n                        <DatePicker\n                            selected={moment(endDate).toDate()}\n                            onChange={date => setEndDate(moment(date).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }))}\n                            showMonthDropdown\n                            showYearDropdown\n                            startDate={moment(endDate).toDate()}\n                        />\n                    </label>\n                </Form.Field>}\n                \n                <Form.Field>\n                    <label>\n                        People:\n                        {   people.length > 0 && \n                            people.map((p, idx)=> {\n                                return <Input\n                                    type=\"person\"\n                                    name=\"person\"\n                                    placeholder=\"person name goes here\"\n                                    value={p.name}\n                                    key={`person${idx}`}\n                                    onChange={(e) => handlePeopleChange(e.target.value, idx)}\n                                    required\n                                />\n                            })\n                        }\n                        \n                    </label>\n                    <Button onClick={e => handleAdd(e, 'people')}>+</Button>\n                    <Button onClick={e => handleSubtract(e, 'people')}>-</Button>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        Content:\n                    <TextArea\n                            type=\"text-area\"\n                            name=\"content\"\n                            placeholder=\"Tell me more\"\n                            value={form.content}\n                            onChange={updateField}\n                            style={{ minHeight: 100 }}\n                        />\n                    </label>\n                </Form.Field>\n                {\n                    destinations.map((d, idx) => {\n                        return <div key={`destination-${idx}`}>\n                            <Form.Field>\n                                <label>\n                                    City:\n                                        <input\n                                        type=\"text\"\n                                        name=\"city\"\n                                        label=\"City\"\n                                        placeholder=\"Where does this take place?\"\n                                        value={d.city}\n                                        onChange={(e) => handleChange(e.target.value, \"city\", idx)}\n                                        required\n                                    />\n                                </label>\n                                \n                                <label>\n                                    Start Date:\n                                    <DatePicker\n                                        selected={d.startDate ? moment(d.startDate).toDate() : null}\n                                        onChange={date => handleChange(date, \"startDate\", idx)}\n                                    />\n                                </label>\n                                <label>\n                                    End Date:\n                                    <DatePicker\n                                        selected={d.endDate ? moment(d.endDate).toDate() : null}\n                                        onChange={date => handleChange(date, \"endDate\", idx)}\n                                    />\n                                </label>\n                            </Form.Field>\n                        </div>\n                    })\n                }\n                <Button onClick={e => handleAdd(e, 'destinations')}>+</Button>\n                <Button onClick={e => handleSubtract(e, 'destinations')}>-</Button>\n\n                <Button type=\"submit\" style={{width: '100%', marginTop: '30px'}}>Submit</Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateTrip;\n","import { connect } from 'react-redux';\nimport Trip from './trip'\n\nimport { updateTrip } from 'redux/action/updateActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        startDate: (trip && trip.startDate) || \"\",\n        endDate: (trip && trip.endDate) || \"\",\n        title: (trip && trip.title) || \"\",\n        content: (trip && trip.content) || \"\",\n        people: (trip && trip.people) || [],\n        destinations: (trip && trip.destinations) || [],\n        ...ownProps\n    }\n};\n\nexport default connect(mapStateToProps, { updateTrip})(Trip);","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\nconst baseURL = process.env.REACT_APP_BASE_URL || 'http://localhost:8000';\n\nexport const updateProp = (payload) => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.UPDATE_PROP, payload }\n        )\n    }\n}\n\nexport const updateTrip = payload => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.UPDATE_TRIP + \"_PENDING\" });\n\n        let tripId = payload.tripId\n        if (!tripId) {\n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.UPDATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n\n        return axios\n            .patch(`${baseURL}/api/trips/${tripId}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {...payload}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.UPDATE_TRIP + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.UPDATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const updatePhoto = payload => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.UPDATE_PHOTO + \"_PENDING\" });\n\n        let tripId = payload.tripId\n        if (!tripId) {\n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.UPDATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n        return axios\n            .patch(`${baseURL}/api/photos/${payload._id}`, {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {...payload, tripId}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.UPDATE_PHOTO + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.UPDATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}","import { connect } from 'react-redux';\nimport CreatePhoto from '../../create/photo/create-photo';\n\nimport { createPhotos } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => {\n  const trip = state.trip && state.trip.trip;\n\n  return {\n    people: (trip && trip.people) || [],\n    destinations: (trip && trip.destinations) || [],\n    tripId: (trip && trip._id) || \"\",\n    ...ownProps\n  }\n};\n\n\nexport default connect(mapStateToProps, { createPhotos })(CreatePhoto);","import React, {useState} from 'react';\nimport moment from \"moment\";\n\nimport styled from \"styled-components\";\nimport { Button, Modal, Loader, Form, Dropdown, Input } from 'semantic-ui-react';\nimport { Image } from \"cloudinary-react\";\n\nimport CreatePhoto from \"./create-photo\";\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n`;\n  \nconst PhotosContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n`;\n      \nconst StyledSemanticLabel = styled.label`\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n`;\n    \nconst StyledButton = styled(Button)`\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n`;\n\n\nconst PhotosList = props => {\n  const [creating, changeCreating] = useState(false);\n  const [photo, setPhoto] = useState({\n      _id: \"\",\n      date: \"\",\n      location: \"\",\n      destination: \"\"\n  })\n\n  if (props.updated) {\n    return window.location.reload();\n  }\n\n  if (props.updating && !props.updated) {\n    return < Loader />\n  }\n\n  const handleChange = (value, key, photoId) => {\n    setPhoto({\n        ...photo,\n        [key]: value,\n        _id: photoId\n    })\n    return;\n  }\n\n  const formatDates = (startDate, endDate) => {\n    const dates = calculateDays(startDate, endDate)\n\n    return dates.map(d => {\n      return {\n        key: d,\n        text: d,\n        value: d,\n      };\n    })\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.updatePhoto(photo);\n    return;\n  }\n\n  const formatDestinations = (destinations) => {\n    if (!destinations || destinations.length <= 0) {\n      return [];\n    }\n\n    return destinations.map((d) => {\n      return {\n        key: d.city,\n        text: d.city,\n        value: d._id,\n      };\n    });\n  }\n  console.log(photo)\n    return(\n     <StyledWrapper>\n       <PhotosContainer>\n        <StyledSemanticLabel>Images: </StyledSemanticLabel>\n          {props.photos.map((p, idx) => {\n            return <Modal key={p._id} trigger={< Image format=\"jpg\" width=\"100\" height=\"100\" crop=\"fill\" cloudName={MY_CLOUD_NAME} publicId={p.publicId} alt={p.city + p.date} />} closeIcon>\n                <Modal.Content image>\n                  <Image\n                    key={p.publicId}\n                    publicId={p.publicId}\n                    width=\"300\"\n                    cloudName={MY_CLOUD_NAME}\n                    format='jpg'\n                    alt={p.city + p.date} \n                  />\n                <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    <label>\n                      Current Destination: {p.city}\n                      <Dropdown\n                            placeholder=\"Destination\"\n                            name=\"destination\"\n                            selection\n                            required\n                            fluid\n                            options={formatDestinations(props.destinations)}\n                            onChange={(e, { value }) =>\n                              handleChange(value, \"destination\", p._id)\n                            }\n                      />\n                    </label>\n                    <label>\n                        Current Date: {p.date}\n                        <Dropdown\n                          placeholder=\"Date\"\n                          name=\"date\"\n                          selection\n                          fluid\n                          options={formatDates(props.startDate, props.endDate)}\n                          onChange={(e, { value }) =>\n                            handleChange(value, \"date\", p._id)\n                          }\n                        />\n                      </label>\n                  <Form.Field\n                    control={Input}\n                    label=\"Location\"\n                    name=\"location\"\n                    fluid\n                    value={photo.location || p.location}\n                    onChange={(e, { value }) =>\n                      handleChange(value, \"location\", p._id)\n                    }\n                  />\n                  <Form.Button>Submit</Form.Button>\n                </Form>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button\n                      negative\n                      icon='trash'\n                      labelPosition='right'\n                      content='Delete'\n                      onClick={()=>{\n                        props.deletePhoto(p._id, props.tripId)\n                      }}\n                    />\n                </Modal.Actions>\n              </Modal>\n            })}\n          <StyledButton onClick={()=>changeCreating(true)}>+</StyledButton>   \n       </PhotosContainer>\n        {creating && <CreatePhoto />}\n    </StyledWrapper>\n    )\n}    \n\n\nexport default PhotosList;\n\nconst calculateDays = (start, end) => {\n  var dates = [];\n\n  var currDate = moment(start).startOf('day');\n  var lastDate = moment(end).startOf('day');\n  dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"))\n\n\n  while (currDate.add(1, 'days').diff(lastDate) <= 1) {\n    dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"));\n  }\n\n  return dates;\n}\n","import { connect } from 'react-redux';\nimport PhotosList from './photos-list';\n\nimport { deletePhoto } from 'redux/action/deleteActions';\nimport { updatePhoto } from 'redux/action/updateActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n\n    return {\n        photos: (trip && trip.photos) || [],\n        tripId: (trip && trip._id) || \"\",\n        destinations: (trip && trip.destinations) || [],\n        startDate: (trip && trip.startDate) || \"\",\n        endDate: (trip && trip.endDate) || \"\",\n        updating: (state.photo && state.photo.updating) || false,\n        updated: (state.photo && state.photo.updated) || false,\n        ...ownProps\n    }\n};\n\nconst actions = {\n    updatePhoto,\n    deletePhoto\n}\n\n\nexport default connect(mapStateToProps, actions)(\n    PhotosList\n);","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\n\nconst baseURL = process.env.REACT_APP_BASE_URL || 'http://localhost:8000';\n\nexport const deleteTrip = id => {    \n    return (dispatch) => {\n        dispatch({ type: ActionTypes.DELETE_TRIP + \"_PENDING\" });\n\n        return axios\n            .delete(`${baseURL}/api/trips/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n            })\n            .then((r) => {\n                if (r && r.status === 200) {\n                    dispatch({\n                        type: ActionTypes.DELETE_TRIP + \"_FULFILLED\",\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const deletePhoto = (id, tripId) => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.DELETE_PHOTO + \"_PENDING\" });\n\n        if (!tripId) {\n            const state = getState();\n            let tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.DELETE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n        \n        return axios\n            .delete(`${baseURL}/api/photos/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {tripId: tripId}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.DELETE_PHOTO + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const deleteSticker = (id, tripId) => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.DELETE_STICKER + \"_PENDING\" });\n\n        if (!tripId) {\n            const state = getState();\n            let tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.DELETE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n        \n        return axios\n            .delete(`${baseURL}/api/stickers/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {tripId: tripId}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.DELETE_STICKER + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}","import React from 'react'\nimport { withRouter } from 'react-router-dom';\n\nimport { Image } from \"cloudinary-react\";\nimport { Form, Checkbox } from \"semantic-ui-react\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\nconst UPLOAD_PRESET = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET;\n\nclass CreateSticker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      photo: [],\n      isSmall: true,\n    };\n  }\n\n  componentDidMount() {\n    const tag = this.props.tripId ? [this.props.tripId] : [];\n\n    window.cloudinary.createUploadWidget(\n      {\n        cloudName: MY_CLOUD_NAME,\n        uploadPreset: UPLOAD_PRESET,\n        folder: \"trips\",\n        tags: tag\n      },\n      (error, result) => {\n        if (result && result.event === \"success\") {\n          const newPhoto = {\n            url: result.info.url,\n            publicId: result.info.public_id,\n          }\n          this.setState({\n            photo: [...this.state.photo, newPhoto]\n          });\n\n        }\n      }\n    ).open()\n  }\n\n\n  handleSubmit = (e) => {\n      e.preventDefault();\n      this.state.photo.forEach(p=>{\n        return p.size = this.state.isSmall ? 'small' : 'large';\n      })\n\n      this.props.createSticker({ photos: this.state.photo, tripId: this.props.tripId });\n      return;\n  }\n\n  \n  render() {\n    return (\n        <Form onSubmit={this.handleSubmit}>\n            {this.state.photo &&\n                this.state.photo.length > 0 &&\n                this.state.photo.map((e) => {\n                    return (\n                        <Image\n                            key={e.publicId}\n                            publicId={e.publicId}\n                            width=\"100\"\n                            height=\"100\"\n                            cloudName={MY_CLOUD_NAME}\n                        />\n                    );\n                })}\n          <Checkbox checked={this.state.isSmall}\n            onChange={()=>this.setState({isSmall :!this.state.isSmall })} label=\"picture is small\"/>\n          <Form.Button>Submit</Form.Button>\n        </Form>\n    );\n  }\n}\n\nexport default withRouter(CreateSticker);","import { connect } from 'react-redux';\nimport CreateSticker from './create-sticker';\n\nimport { createSticker } from 'redux/action/createActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        tripId: (trip && trip._id) || \"\",\n        photos: (trip && trip.stickers) || [],\n        isCreating: state.stickers && !!state.stickers.isCreating,\n        ...ownProps\n    }\n};\n\nexport default connect(mapStateToProps, { createSticker })(\n    CreateSticker\n);","import React from 'react';\n\nimport styled from \"styled-components\";\nimport { Button, Modal, Loader } from 'semantic-ui-react';\nimport { Image } from \"cloudinary-react\";\n\nimport CreateSticker from \"./create-sticker\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n`;\n  \nconst PhotosContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n`;\n      \nconst StyledSemanticLabel = styled.label`\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n`;\n    \nconst StyledButton = styled(Button)`\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n`;\n\nconst PhotosList = props => {\n\n  if (props.updated) {\n    return window.location.reload();\n  }\n\n  if (props.updating && !props.updated) {\n    return < Loader />\n  }\n\n    return(\n     <StyledWrapper>\n       <PhotosContainer>\n        <StyledSemanticLabel>Stickers: </StyledSemanticLabel>\n          {props.photos.map((p, idx) => {\n            return <Modal key={p._id + idx} trigger={< Image format=\"jpg\" width=\"100\" height=\"100\" crop=\"fill\" cloudName={MY_CLOUD_NAME}  publicId={p.publicId} alt={'semtimental sticker ' + idx} />} closeIcon>\n                  <Modal.Content image>\n                    <Image\n                      key={p.publicId}\n                      publicId={p.publicId}\n                      width=\"300\"\n                      cloudName={MY_CLOUD_NAME}\n                      format='jpg'\n                     alt={'semtimental sticker ' + idx}\n                    />\n                  </Modal.Content>\n                  <Modal.Actions>\n                    <Button\n                      negative\n                      icon='trash'\n                      labelPosition='right'\n                      content='Delete'\n                      onClick={() => {\n                        props.deleteSticker(p._id, props.tripId)\n                      }}\n                    />\n                  </Modal.Actions>\n                </Modal>\n            }\n            )}\n          <StyledButton onClick={() => props.setCreateSticker()}>+</StyledButton>   \n       </PhotosContainer>\n       {props.isCreating && <CreateSticker />}\n    </StyledWrapper>\n    )\n}    \n\n\nexport default PhotosList;\n","import { connect } from 'react-redux';\nimport PhotosList from './photos-list';\n\nimport { setCreateSticker } from 'redux/action/createActions';\nimport { deleteSticker } from 'redux/action/deleteActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        photos: (trip && trip.stickers) || [],\n        tripId: (trip && trip._id) || \"\",\n        isCreating: state.stickers && !!state.stickers.isCreating,\n        updating: (state.stickers && state.stickers.updating) || false,\n        updated: (state.stickers && state.stickers.updated) || false,\n        ...ownProps\n    }\n};\n\nconst actions = {\n    deleteSticker,\n    setCreateSticker,\n}\n\nexport default connect(mapStateToProps, actions)(\n    PhotosList\n);","import React, {useState} from \"react\";\nimport {\n    withRouter\n} from 'react-router-dom'\nimport styled from \"styled-components\";\nimport { Button, Modal } from \"semantic-ui-react\";\n\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n\n  button {width: 100%}\n`;\n\n\nconst DeleteTrip = (props) => {\n    const [open, changeOpen] = useState(false);\n\n    const handleDelete = (e) => {\n        e.preventDefault();\n        props.deleteTrip(props.tripId);\n        props.history.push('/articles')\n    }\n\n    return (<StyledWrapper>\n        <Modal open={open} trigger={<Button onClick={()=>changeOpen(true)}>Delete Trip</Button>}>\n            <Modal.Header>Delete This Trip</Modal.Header>\n            <Modal.Content>\n                <p>Are you sure you want to delete this trip?</p>\n            </Modal.Content>\n            <Modal.Actions>\n                <Button onClick={() => changeOpen(false)} >Close</Button>\n                <Button\n                    negative\n                    icon='trash'\n                    labelPosition='right'\n                    content='Delete'\n                    onClick={e=>handleDelete(e)}\n                />\n            </Modal.Actions>\n        </Modal>\n    </StyledWrapper>\n)}\n\nexport default withRouter(DeleteTrip);\n","import { connect } from 'react-redux';\nimport DeleteTrip from './delete-trip';\n\nimport { deleteTrip } from 'redux/action/deleteActions';\n\nconst mapStateToProps = (state, ownProps) => ({\n    redirect: state && state.trip && !!state.trip.deleted,\n    ...ownProps\n});\n\nexport default connect(mapStateToProps, { deleteTrip })(\n    DeleteTrip\n);","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router\";\n\nimport { Loader, Segment } from 'semantic-ui-react';\nimport styled from \"styled-components\";\n\nimport UpdateTrip from \"./trip\";\nimport UpdatePhoto from \"./photo\";\nimport Articles from '../articles';\nimport UpdateStickers from './stickers';\nimport DeleteTripBtn from './delete-trip';\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n`;\n\nconst EditArticle = (props) => {\n    let { tripId } = useParams();\n    const { fetchArticle, updateProp } = props;\n\n    useEffect(() => {\n        if (!!tripId) {\n            fetchArticle(tripId);\n            updateProp({_id: tripId});\n        }\n    }, [tripId, fetchArticle, updateProp]);\n\n    if ( props.fetched && !props.trip.trip._id ) {\n        return <Articles />\n    }\n\n    if (props.fetching) {\n        return (\n            <Segment>\n                <Loader active />\n            </Segment>\n        )\n    }\n\n    return(\n        <StyledFormWrapper>\n            <UpdateTrip tripId={tripId}/>\n            <UpdatePhoto />\n            <UpdateStickers />\n            <DeleteTripBtn tripId={tripId}/>\n        </StyledFormWrapper>\n    )\n};\n\nexport default EditArticle;\n","import { connect } from \"react-redux\";\nimport Edit from \"./edit\";\nimport withAuth from \"../hoc/withAuth\";\n\nimport { fetchArticle } from 'redux/action/fetchActions';\nimport { updateProp } from 'redux/action/updateActions';\n\nconst mapStateToProps = (state) => ({\n    trip: state.trip,\n    fetching: state.trip.fetching,\n    fetched: state.trip.fetched,\n});\n\nconst dispatchAction  = {\n    fetchArticle,\n    updateProp\n}\n\n\nexport default withAuth(connect(mapStateToProps, dispatchAction)(Edit));","import React from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst Container = styled.div`\n    cursor: move;\n    width: ${(props) => props.width || 200}px;\n    transform: translate(\n        ${(props) => props.x || 0}px,\n        ${(props) => props.y || 0}px\n    );\n    transition: transform 0.3s ease-in-out;\n    background-image: url(${(props) => props.img});\n    padding-top: ${(props) => props.height || 40}%;\n    background-position: center top;\n    background-size: contain;\n    background-repeat: no-repeat;\n    position: absolute;\n\n    ${({ isDragging }) =>\n        isDragging &&\n        css`\n            opacity: 0.8;\n            cursor: grabbing;\n        `};\n`;\n\nexport default class Sticker extends React.Component {\n    state = {\n        isDragging: false,\n\n        originalX: 0,\n        originalY: 0,\n\n        translateX: 0,\n        translateY: 0,\n\n        lastTranslateX: 0,\n        lastTranslateY: 0,\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener(\"mousemove\", this.handleMouseMove);\n        window.removeEventListener(\"touchmove\", this.handleMouseMove);\n        window.removeEventListener(\"mouseup\", this.handleMouseUp);\n    }\n\n    handleMouseDown = ({ clientX, clientY }) => {\n        window.addEventListener(\"mousemove\", this.handleMouseMove);\n        window.addEventListener(\"mouseup\", this.handleMouseUp);\n        window.removeEventListener(\"touchmove\", this.handleMouseMove);\n\n\n        if (this.props.onDragStart) {\n            this.props.onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true,\n        });\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        const { onDrag } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(\n            (prevState) => ({\n                translateX:\n                    clientX - prevState.originalX + prevState.lastTranslateX,\n                translateY:\n                    clientY - prevState.originalY + prevState.lastTranslateY,\n            }),\n            () => {\n                if (onDrag) {\n                    onDrag({\n                        translateX: this.state.translateX,\n                        translateY: this.state.translateY,\n                    });\n                }\n            }\n        );\n    };\n\n    handleMouseUp = () => {\n        window.removeEventListener(\"mousemove\", this.handleMouseMove);\n        window.removeEventListener(\"mouseup\", this.handleMouseUp); \n        window.removeEventListener(\"touchmove\", this.handleMouseMove);\n\n\n        this.setState(\n            {\n                originalX: 0,\n                originalY: 0,\n                lastTranslateX: this.state.translateX,\n                lastTranslateY: this.state.translateY,\n\n                isDragging: false,\n            },\n            () => {\n                if (this.props.onDragEnd) {\n                    this.props.onDragEnd();\n                }\n            }\n        );\n    };\n\n    render() {\n        const { children, x, y, width, height } = this.props;\n        const { translateX, translateY, isDragging } = this.state;\n\n        return (\n            <Container\n                onMouseDown={this.handleMouseDown}\n                x={translateX}\n                y={translateY}\n                isDragging={isDragging}\n                img={this.props.img}\n                style={{left: x, top: y}}\n                width={width}\n                height={height}\n            >\n                {children}\n                </Container>\n        );\n    }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\n\nimport Sticker from '../sticker';\n\nconst mobileBP = '600px';\n\nconst TitleWrapper = styled.div`\n    height: calc(100vh - 30px);\n    // background-color: #f2eade;\n    position: relative;\n    margin: 10px;\n    overflow: hidden;\n    \n    .title-container {\n        position: absolute;\n        margin: auto;\n        background-color: white;\n        width: 300px;\n        border: 1px solid;\n        margin: 10px;\n        bottom: 10%;\n        right: 0%;\n        padding: 30px;\n        z-index: 3;\n        text-align: center;\n\n        @media screen and (max-width: ${mobileBP}) {\n            padding: 15px;\n            bottom: 0;\n            margin: 0;\n        }\n    }\n`;\n\nconst StickerContainer = styled.div`\n    position: relative;\n    overflow: hidden;\n    margin: -30px -30px;\n    height: 100vh;\n`;\n\nexport default class Title extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dimensions: null,\n            stickers: props.trip.stickers || [],\n            title: props.trip.title || \"\",\n            startDate: props.trip.startDate || \"\",\n            endDate: props.trip.endDate || \"\",\n            people: props.trip.people || []\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            dimensions: {\n                width: this.container.offsetWidth,\n                height: this.container.offsetHeight,\n            },\n        });\n    }\n    renderStickers(){\n        return this.state.dimensions && this.state.stickers.map(s=> {\n            console.log(s)\n            console.log(this)\n            return <Sticker\n                key={s._id}\n                img={s.url}\n                x={Math.floor(Math.random() * (this.state.dimensions.width - 300))}\n                y={Math.floor(Math.random() * (this.state.dimensions.height - 300))}\n                width={s.size && s.size === 'large' ? 300 : 150}\n                height={s.size && s.size === 'large' ? 20 : 50}\n            />\n        })\n    }\n\n    renderPeople = people => {\n        if (people.length === 1) {\n            return <div>{people[0].name}</div>\n        } \n        const peopleNames = people.map(e => e.name)\n        return <div> {peopleNames.join(\", \")}</div>\n    }\n\n    render(){\n        const {title, startDate, endDate, people} = this.state;\n        return (\n            <TitleWrapper>\n                <div className=\"title-container\">\n                    <h2>{title}</h2>\n                    {(!!startDate && !!endDate) \n                        ? <span style={{textTransform: 'capitalize'}}>\n                            {moment(startDate).format(\"MMM DD, YYYY\") + \" - \" + \n                            moment(endDate).format(\"MMM DD, YYYY\")}\n                            </span> \n                        : null\n                    }\n                    { people && people.length > 0 && this.renderPeople(people)}\n                    \n                </div>\n                <StickerContainer\n                    ref={(el) => {\n                        this.container = el;\n                    }}\n                >\n                    {this.renderStickers()}\n                </StickerContainer>\n            </TitleWrapper>\n        );\n    }\n};","import { connect } from 'react-redux';\nimport Title from './title';\n\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: (state.trip && state.trip.trip) || {},\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps)(Title);","import React, { useState, useEffect, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\"\nimport { Image, Transformation } from \"cloudinary-react\";\nimport { Icon } from 'semantic-ui-react'\n\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\nconst mobileBP = '600px';\n\nconst PictureContainerWrapper = styled.div`\n    display: flex;\n    height: calc(100vh - 20px);\n    padding: 10px;\n    overflow: hidden;\n    position: relative;\n    background-color: white;\n`;\nconst PictureFullBleed = styled.div`\n    width: 50vw;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    margin: 10px;\n\n    @media screen and (max-width: ${mobileBP}) {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        margin: 0;\n        background-color: white;\n        padding: 10px;\n        z-index: -1;\n\n        &.active{\n            z-index: 3;\n        }\n    }\n`;\nconst PostContentContainer = styled.div`\n    width: 50vw;\n    margin: 10px;\n    overflow: hidden;\n    position: relative;\n\n    @media screen and (max-width: ${mobileBP}) {\n        width: 100%;\n        height: 100%;\n        background-color: white;\n        margin: 0;\n    }\n`;\nconst PicturesContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    max-height: calc(100% - 30px);\n    overflow-y: scroll;\n\n    img {\n        margin: 10px;\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 800px) {\n        margin: auto -10px;\n\n       img {\n           margin: 5px;\n           width: 80px\n       }\n    }\n\n    @media screen and (max-width: ${mobileBP}) {\n        margin: auto -10px;\n        align-items: flex-start;\n        height: auto;\n\n       img {\n           margin: 5px;\n       }\n    }\n`;\n\nconst PictureDescription = styled.div`\n    bottom: 0;\n    position: absolute;\n    color: red;\n    text-transform: uppercase;\n\n    a { \n        color: inherit;\n    }\n`;\n\nconst TripDescription = styled.div`\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    background-color: white;\n\n    cursor:pointer;\n    white-space: pre-line;\n    padding: 10px;\n    height: auto;\n    max-height: 30px;\n    transition: all 0.5s ease-in;\n\n    &.active {\n        max-height: 100%;\n        overflow-y: scroll;\n    }\n\n    &.active>div {\n        max-height: 100vh;\n    }\n    &.not-active>div {\n        max-height: 0;\n    }\n`;\n    \nconst AdditionalContent = styled.div`\n    font-size: 14px;\n    padding: 10px;\n    border-top: 1px solid;\n    height: 100%;\n    max-height: 0;\n    transition: all 0.5s ease-in;\n`;\n\n\nconst PictureContainer = ({trip}) => {\n    const [expandText, setExpandText] = useState(false);\n    const [currentPicture, setCurrentPicture] = useState({});\n    const [showImage, setShowImage] = useState(false);\n\n    useEffect(() => {\n        if (!!trip.photos) {\n            setCurrentPicture(trip.photos[0])\n        }\n\n    }, [setCurrentPicture, trip.photos])\n    \n\n    const renderDescription = () => {\n        const desc = [];\n\n        if (!!currentPicture.date) {\n            desc.push(<span>{moment(currentPicture.date).format('\\'YY/MM/DD')}</span>)\n        } \n        \n        \n        if (!!currentPicture.city) {\n            desc.push(<span> {currentPicture.city} </span>)\n        }\n\n        if (!!currentPicture.location) {\n            desc.push(<span> <a target=\"_blank\" rel=\"noopener noreferrer\" href={currentPicture.location}><Icon link name='map marker' /></a></span>)\n        }\n\n        return (\n            <PictureDescription>\n                {desc.map((e, idx)=> <Fragment key={idx}>{e}</Fragment>)}\n            </PictureDescription>\n        )\n    }\n\n    if (!trip.photos || trip.photos.length < 1) {\n        return null;\n    } \n\n    const handleClick=(picture)=> {\n        setCurrentPicture(picture);\n        setShowImage(true);\n    }\n\n    \n    return <PictureContainerWrapper>\n        <PictureFullBleed className={showImage && \"active\"} onClick={()=>setShowImage(false)}\n            style={{\n                backgroundImage: `url(http://res.cloudinary.com/${MY_CLOUD_NAME}/image/upload/v1/${currentPicture.publicId}.jpg)`\n            }}\n        >\n        {renderDescription()}\n        </PictureFullBleed>\n        <hr style={{margin: 0}} />\n        <PostContentContainer>\n            <PicturesContainer>\n                {trip.photos.map((p, idx)=> {\n                    return (\n                        <Image format=\"jpg\" crop=\"fit\" key={p._id + idx} onClick={() => handleClick(p)} publicId={p.publicId} alt={p.city + p.date} cloudName={MY_CLOUD_NAME}><Transformation width=\"100\" height=\"100\" crop=\"fill\" /></Image>\n                    )\n                })}\n            </PicturesContainer>\n            <TripDescription onClick={() => setExpandText(!expandText)} className={expandText ? 'active' : 'not-active'}>\n                {expandText ? 'Less' : 'More'}\n                {!!trip.content && trip.content\n                    ? <AdditionalContent > {trip.content}\n                    </AdditionalContent>\n                    : null\n                }\n            </TripDescription>\n        </PostContentContainer>\n    </PictureContainerWrapper>\n};\n\nexport default PictureContainer;\n","import { connect } from 'react-redux';\nimport PictureContainer from './picture-container';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: (state.trip && state.trip.trip) || {},\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps)(PictureContainer);","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Loader, Segment } from 'semantic-ui-react';\n\nimport ArticleTitle from './article-title';\nimport ArticlePictures from './article-pictures';\n\nconst ShowArticle = (props) => {\n    let { tripId } = useParams();\n    const { fetchArticle } = props;\n\n    useEffect(() => {\n        if (!!tripId) {\n            fetchArticle(tripId);\n        }\n    }, [tripId, fetchArticle]);\n\n    if (props.fetching) {\n        return (\n            <Segment>\n                <Loader active />\n            </Segment>\n        )\n    }\n\n\n    return !!props.trip \n        ? <div>\n            <ArticleTitle  />\n            <ArticlePictures  />\n        </div>\n        : <div>nothing in single article</div>\n};\n\nexport default ShowArticle;\n","import { connect } from 'react-redux';\nimport ShowArticle from './show-article';\n\nimport { fetchArticle } from 'redux/action/fetchActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: state.trip,\n        fetching: state.trip.fetching,\n        fetched: state.trip.fetched,\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { fetchArticle })(ShowArticle);","import React from 'react';\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'; \n\nimport Articles from './components/articles';\nimport Create from './components/create';\nimport Edit from './components/edit';\nimport Article from './components/show-article';\n\nconst App =()=> {\n    return (\n        <>\n            {/* <NavBar /> */}\n            <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/articles\" />}/>\n                <Route path=\"/articles/:tripId\" component={Article}/>\n                <Route path=\"/articles\" component={Articles}/>\n                <Route path=\"/create\" component={Create}/>\n                <Route path=\"/edit/:tripId\" component={Edit}/>\n                <Route path=\"/edit\" component={(props)=> <Articles toEdit={true} {...props}/>} />\n            </Switch>\n        </>\n    )\n}\n\nexport default withRouter(App);","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function articlesReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.FETCH_ARTICLES + '_PENDING': {\n            return {\n                fetching: true\n            };\n        }\n        case ActionTypes.FETCH_ARTICLES + '_REJECTED': {\n            const error = action.payload.error;\n\n            return {\n                fetching: false,\n                fetched: true,\n                error\n            };\n        }\n        case ActionTypes.FETCH_ARTICLES + '_FULFILLED': {\n            const articles = action.payload;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                articles\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function destinationReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_DESTINATIONS + '_PENDING': {\n            return {\n                ...state,\n                fetching: true,\n            };\n        }\n        case ActionTypes.CREATE_DESTINATIONS + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                fetching: false,\n                fetched: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_DESTINATIONS + '_FULFILLED': {\n            const destinations = action.payload.destinations;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                destinations\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function tripReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_TRIP + '_PENDING': \n        case ActionTypes.DELETE_TRIP + '_PENDING': \n        case ActionTypes.UPDATE_TRIP + '_PENDING': {\n            return {\n                ...state,\n                fetching: true,\n            };\n        }\n        case ActionTypes.CREATE_TRIP + '_REJECTED': \n        case ActionTypes.UPDATE_TRIP + '_REJECTED': \n        case ActionTypes.DELETE_TRIP + '_REJECTED': \n        case ActionTypes.CREATE_DESTINATIONS + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                fetching: false,\n                fetched: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_TRIP + '_FULFILLED': \n        case ActionTypes.UPDATE_TRIP + '_FULFILLED': \n        case ActionTypes.CREATE_DESTINATIONS + '_FULFILLED': {\n            const trip = action.payload.trip;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                trip\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_PENDING': {\n            return {\n                fetching: true\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_REJECTED': {\n            const error = action.payload.error;\n\n            return {\n                fetching: false,\n                fetched: true,\n                error\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_FULFILLED': {\n            const trip = action.payload;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                trip\n            };\n        }\n        case ActionTypes.UPDATE_PROP: {\n            const newTrip = {\n                ...action.payload,\n                ...state.newTrip\n            }\n            return {\n                ...state,\n                newTrip\n            }\n        }\n        case ActionTypes.DELETE_TRIP + '_FULFILLED': {\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                deleted: true,\n                trip: {},\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n    updating: false\n};\n\nexport default function createReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_PHOTO + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.CREATE_PHOTO + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_PHOTO + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n    isCreating: false,\n    updating: false,\n};\n\nexport default function createReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.SET_CREATE_STICKER: {\n            const isCreating = !state.isCreating;\n            return {\n                ...state,\n                isCreating,\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_PENDING': \n        case ActionTypes.CREATE_STICKER + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_REJECTED': \n        case ActionTypes.CREATE_STICKER + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_FULFILLED': \n        case ActionTypes.CREATE_STICKER + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\n// import userReducer from './userReducer';\nimport articlesReducer from './articlesReducer';\nimport destinationReducer from './destinationReducer';\nimport tripReducer from './tripReducer';\nimport photoReducer from './photoReducer';\nimport stickersReducer from './stickerReducer';\n\nexport default combineReducers({\n    // user: userReducer,\n    articles: articlesReducer,\n    destination: destinationReducer,\n    trip: tripReducer,\n    photo: photoReducer,\n    stickers: stickersReducer,\n})","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from './reducers'\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './app';\n\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <Router>\n            <App />\n        </Router>,\n    </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}