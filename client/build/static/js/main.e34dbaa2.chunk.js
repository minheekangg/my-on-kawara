(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{325:function(e,t,n){e.exports=n(581)},330:function(e,t,n){},581:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(49),o=n.n(i),c=(n(330),n(27)),l=n(6),u=n(23),s=n(13),p=n(14),d=n(21),m=n.n(d);function h(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: space-between;\n    min-width: 100%;\n    margin: 10px 0;\n    cursor: pointer;\n\n    &:hover {\n        color: red;\n    }\n"]);return h=function(){return e},e}function f(){var e=Object(s.a)(["\n    display: flex;\n    border: 1px solid;\n    flex-direction: column;\n    padding: 10px;\n    margin: 10px;\n    width: 100%;\n\n    h2 {\n        border-bottom: 1px dotted;\n    }\n\n"]);return f=function(){return e},e}function b(){var e=Object(s.a)(["\n    max-width: 400px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n"]);return b=function(){return e},e}var E=p.b.div(b()),g=p.b.div(f()),v=p.b.div(h()),D=function(e){var t=e.fetchArticles,n=e.articles,i=e.toEdit?"edit":"articles";return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement(E,null,e.articles&&e.articles.length?r.a.createElement(g,null,r.a.createElement("h2",null,"Travel"),n.map((function(t){var n="".concat(m()(t.startDate).format("MM/DD/YYYY")," - ").concat(m()(t.endDate).format("MM/DD/YYYY"));return r.a.createElement(v,{key:t._id,onClick:function(){return e.history.push("".concat(i,"/").concat(t._id))}},r.a.createElement("div",null,t.title),r.a.createElement("div",null,n))}))):r.a.createElement("div",null,"coming soon!"))},y="FETCH_ARTICLES",j="UPDATE_PROP",O="RESET",w="CREATE_DESTINATIONS",C="CREATE_TRIP",I="CREATE_PHOTO",x="FETCH_TRIP",_="UPDATE_TRIP",k="CREATE_STICKER",T="SET_CREATE_STICKER",S="DELETE_PHOTO",L="DELETE_STICKER",F="DELETE_TRIP",P="UPDATE_PHOTO",N=n(33),M=n.n(N),Y="https://travel-photo-diary-backend.herokuapp.com";console.log("base url is",Y);var R=function(e){return function(t){return t({type:x+"_PENDING"}),M.a.get("".concat(Y,"/api/trips/").concat(e),{headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){e&&e.data&&e.data.trip&&t({type:x+"_FULFILLED",payload:e.data.trip})})).catch((function(e){t({type:x+"_REJECTED",payload:e})}))}},U=Object(u.b)((function(e,t){return Object(l.a)({articles:e.articles&&e.articles.articles||[]},t)}),{fetchArticles:function(){return function(e){return e({type:y+"_PENDING"}),M.a.get(Y+"/api/trips",{headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(t){t&&t.data&&t.data.trip&&t.data.trip.length&&e({type:y+"_FULFILLED",payload:t.data.trip})})).catch((function(t){e({type:y+"_REJECTED",payload:t})}))}}})(D),J=n(32),A=n(43),G=n(54),X=n(55),z=n(57),H=n(56),q=n(37),W=n(600),B=n(601),K=n(596);function Q(){var e=Object(s.a)(["\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n"]);return Q=function(){return e},e}var V=p.b.div(Q()),Z=function(e){Object(z.a)(n,e);var t=Object(H.a)(n);function n(e){var a;return Object(G.a)(this,n),(a=t.call(this,e)).formatPeople=function(e){return!e||e.length<=0?[]:e.map((function(e){return{key:e.name,text:e.name,value:e._id}}))},a.formatDestinations=function(e){return!e||e.length<=0?[]:e.map((function(e){return{key:e.city,text:e.city,value:e._id}}))},a.formatDates=function(e){if(!e||e.length<=0)return[];if(!a.state.photo.destination)return[];var t=e.find((function(e){return e._id===a.state.photo.destination}));return ee(t.startDate,t.endDate).map((function(e){return{key:e,text:e,value:e}}))},a.handleChange=function(e,t){a.setState({photo:Object(l.a)(Object(l.a)({},a.state.photo),{},Object(A.a)({},t,e))})},a.handleSubmit=function(e){e.preventDefault(),a.props.createPhotos(a.state.photo),a.props.history.push("/articles")},a.state={photo:{src:[],people:[],date:"",destination:"",location:""},people:e.people,destinations:e.destinations},a}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tripId?[this.props.tripId]:[];window.cloudinary.createUploadWidget({cloudName:"dly4mslmg",uploadPreset:"hknbr8bn",folder:"trips",tags:t,format:"jpg"},(function(t,n){if(n&&"success"===n.event){var a={url:n.info.url,publicId:n.info.public_id};e.setState({photo:Object(l.a)(Object(l.a)({},e.state.photo),{},{src:[].concat(Object(J.a)(e.state.photo.src),[a])})})}})).open()}},{key:"render",value:function(){var e=this;return r.a.createElement(V,null,r.a.createElement(W.a,{onSubmit:this.handleSubmit,autoComplete:"off"},this.state.photo.src&&this.state.photo.src.length>0&&this.state.photo.src.map((function(e){return r.a.createElement(q.Image,{key:e.publicId,publicId:e.publicId,width:"100",cloudName:"dly4mslmg",format:"jpg"})})),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"People:",r.a.createElement(B.a,{placeholder:"People",name:"people",multiple:!0,fluid:!0,selection:!0,options:this.formatPeople(this.state.people),onChange:function(t,n){var a=n.value;return e.handleChange(a,"people")}})),r.a.createElement("label",null,"Destination:",r.a.createElement(B.a,{placeholder:"Destination",name:"destination",selection:!0,required:!0,fluid:!0,options:this.formatDestinations(this.state.destinations),onChange:function(t,n){var a=n.value;return e.handleChange(a,"destination")}})),this.state.photo.destination&&r.a.createElement("label",null,"Date:",r.a.createElement(B.a,{placeholder:"Date",name:"date",selection:!0,fluid:!0,options:this.formatDates(this.state.destinations),onChange:function(t,n){var a=n.value;return e.handleChange(a,"date")}}))),r.a.createElement(W.a.Field,{control:K.a,label:"Location",name:"location",fluid:!0,value:this.state.photo.location,onChange:function(t,n){var a=n.value;return e.handleChange(a,"location")}}),r.a.createElement(W.a.Button,null,"Submit")))}}]),n}(r.a.Component),$=Object(c.h)(Z),ee=function(e,t){var n=[],a=m()(e).startOf("day"),r=m()(t).startOf("day");for(n.push(a.clone().utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).format("MM/DD/YYYY"));a.add(1,"days").diff(r)<=1;)n.push(a.clone().utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).format("MM/DD/YYYY"));return n},te="https://travel-photo-diary-backend.herokuapp.com",ne=function(e){return function(t,n){t({type:I+"_PENDING"});var a=e.tripId;if(!a){var r=n();if(!(a=r&&r.trip&&r.trip.trip._id)){t({type:I+"_REJECTED",payload:"trip is missing"})}}return M.a.post(te+"/api/photos",{headers:{"Content-Type":"application/json",accept:"application/json"},data:Object(l.a)(Object(l.a)({},e),{},{tripId:a})}).then((function(e){e&&e.data&&t({type:I+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:I+"_REJECTED",payload:e})}))}},ae=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip,a=e.destination&&e.destination.destinations;return Object(l.a)({people:n&&n.people||[],tripId:n&&n._id||"",destinations:a||[]},t)}),{createPhotos:ne})($),re=n(26),ie=n(586),oe=n(597),ce=n(52),le=n.n(ce);n(270);function ue(){var e=Object(s.a)(["\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n"]);return ue=function(){return e},e}var se=p.b.div(ue()),pe=function(e){var t=Object(a.useState)([{city:"",startDate:"",endDate:""}]),n=Object(re.a)(t,2),i=n[0],o=n[1],c=function(e,t,n){var a=Object(J.a)(i);a[n][t]=e,o(a)};return r.a.createElement(se,null,r.a.createElement(W.a,{onSubmit:function(t){return t.preventDefault(),i.map((function(e){var t=m()(e.startDate).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0});e.startDate=t;var n=m()(e.endDate).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0});return e.endDate=n,e})),e.createDestinations(i)},autoComplete:"off"},i.map((function(t,n){return r.a.createElement("div",{key:"destination-".concat(n)},r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"City:",r.a.createElement("input",{type:"text",name:"city",label:"City",placeholder:"Where does this take place?",value:t.city,onChange:function(e){return c(e.target.value,"city",n)},required:!0})),r.a.createElement("label",null,"Start Date:",r.a.createElement(le.a,{onChange:function(e){return c(e,"startDate",n)},selected:t.startDate,minDate:e.minDate,maxDate:e.maxDate,startDate:e.minDate})),r.a.createElement("label",null,"End Date:",r.a.createElement(le.a,{onChange:function(e){return c(e,"endDate",n)},selected:t.endDate,minDate:e.minDate,maxDate:e.maxDate,startDate:t.startDate}))))})),r.a.createElement(ie.a,{onClick:function(e){e.preventDefault(),o(i.concat({city:"",dates:[]}))}},"+"),r.a.createElement(ie.a,{onClick:function(e){if(e.preventDefault(),!(i.length<=1)){var t=Object(J.a)(i);t.pop(),o(t)}}},"-"),r.a.createElement(W.a.Button,{style:{marginTop:"30px",width:"100%"}},"Submit")))},de=Object(u.b)((function(e,t){return Object(l.a)({},t)}),{createDestinations:function(e){return function(t,n){t({type:w+"_PENDING"});var a=e.tripId;if(!a){var r=n();if(!(a=r&&r.trip&&r.trip.trip._id)){t({type:w+"_REJECTED",payload:"trip is missing"})}}return M.a.post(te+"/api/destinations",{headers:{"Content-Type":"application/json",accept:"application/json"},data:{destinations:e,tripId:a}}).then((function(e){e&&e.data&&e.data.destinations&&e.data.destinations.length>0&&t({type:w+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:w+"_REJECTED",payload:e})}))}}})(pe);function me(){var e=Object(s.a)(["\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n"]);return me=function(){return e},e}var he=p.b.div(me()),fe=function(e){var t=Object(a.useState)(!1),n=Object(re.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)([{name:""}]),u=Object(re.a)(c,2),s=u[0],p=u[1],d=Object(a.useState)(new Date),h=Object(re.a)(d,2),f=h[0],b=h[1],E=Object(a.useState)(new Date),g=Object(re.a)(E,2),v=g[0],D=g[1],y=Object(a.useState)({title:e.title,content:e.content}),j=Object(re.a)(y,2),O=j[0],w=j[1],C=function(e){w(Object(l.a)(Object(l.a)({},O),{},Object(A.a)({},e.target.name,e.target.value)))};return i?r.a.createElement(de,{minDate:f,maxDate:v}):r.a.createElement(he,null,r.a.createElement(W.a,{onSubmit:function(t){if(t.preventDefault(),""!==O.startDate&&""!==O.endDate&&""!==O.title){var n=m()(f).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}),a=m()(v).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0});e.createTrip(Object(l.a)(Object(l.a)({},O),{},{people:s,startDate:n,endDate:a})),o(!0)}},autoComplete:"off"},r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",placeholder:"Title of the trip",value:O.title,onChange:C,required:!0}))),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Start Date:",r.a.createElement(le.a,{selected:f,onChange:function(e){b(e),D(e)},showMonthDropdown:!0,showYearDropdown:!0}))),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"End Date:",r.a.createElement(le.a,{selected:v,onChange:function(e){return D(e)},showMonthDropdown:!0,showYearDropdown:!0}))),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"People:",s.map((function(e,t){return r.a.createElement(K.a,{type:"person",name:"person",placeholder:"person name goes here",value:e.name,key:"person".concat(t),onChange:function(e){return function(e,t){var n=Object(J.a)(s);n[t].name=e,p(n)}(e.target.value,t)},required:!0})}))),r.a.createElement(ie.a,{onClick:function(e){e.preventDefault(),p(s.concat({name:""}))}},"+"),r.a.createElement(ie.a,{onClick:function(e){if(e.preventDefault(),!(s.length<=1)){var t=Object(J.a)(s);t.pop(),p(t)}}},"-")),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Content:",r.a.createElement(oe.a,{type:"text-area",name:"content",placeholder:"Tell me more",value:O.content,onChange:C,style:{minHeight:100}}))),r.a.createElement(ie.a,{type:"submit",style:{width:"100%"}},"Submit")))},be=Object(u.b)((function(e,t){return Object(l.a)({startDate:e.create&&e.create.startDate||"",endDate:e.create&&e.create.endDate||"",title:e.create&&e.create.title||"",content:e.create&&e.create.content||""},t)}),{createTrip:function(e){return function(t){return t({type:C+"_PENDING"}),M.a.post(te+"/api/trips",{headers:{"Content-Type":"application/json",accept:"application/json"},data:e}).then((function(e){e&&e.data&&e.data.trip&&t({type:C+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:C+"_REJECTED",payload:e})}))}}})(fe),Ee=function(e){var t=e.isDestinationsFetched,n=e.isTripFetched;return t&&n?r.a.createElement(ae,null):r.a.createElement(be,null)},ge=n(63),ve=n(87),De=n(598);function ye(){var e=Object(s.a)(["\n    display: flex;\n    height: 100vh; \n\n    .ui.buttons {margin:auto}\n"]);return ye=function(){return e},e}var je=p.b.div(ye()),Oe=function(e){return function(t){Object(z.a)(a,t);var n=Object(H.a)(a);function a(){var e;Object(G.a)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={isSignedIn:null},e.onAuthChange=function(){e.setState({isSignedIn:e.auth.isSignedIn.get()})},e.onSignIn=function(){e.auth.signIn()},e.renderSignInOrReturn=function(){return r.a.createElement(je,null,r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a,{icon:!0,negative:!0,labelPosition:"left",onClick:e.onSignIn},r.a.createElement(ve.a,{name:"google"}),"Sign in with Google"),r.a.createElement(ie.a.Or,null),r.a.createElement(ie.a,{as:ge.b,to:"/articles",icon:!0,labelPosition:"right"},"Return to Articles",r.a.createElement(ve.a,{name:"right arrow"}))))},e}return Object(X.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"227317062320-8hgo5f44o9kojf1opt1gtjn34v7fdk9b.apps.googleusercontent.com",scope:"email"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"render",value:function(){return null===this.state.isSignedIn?r.a.createElement(De.a,{active:!0,inline:"centered"}):this.state.isSignedIn&&"minheekangg@gmail.com"===this.auth.currentUser.get().getBasicProfile().getEmail()?r.a.createElement(e,this.props):this.renderSignInOrReturn()}}]),a}(r.a.Component)},we=Oe(Object(u.b)((function(e){return{isTripFetched:e&&!!e.trip&&e.trip.fetched,isDestinationsFetched:e&&!!e.destination&&e.destination.fetched}}))(Ee)),Ce=n(602);function Ie(){var e=Object(s.a)(["\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n"]);return Ie=function(){return e},e}var xe=p.b.div(Ie()),_e=function(e){var t=Object(a.useState)(e.startDate),n=Object(re.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(e.endDate),u=Object(re.a)(c,2),s=u[0],p=u[1],d=Object(a.useState)([]),h=Object(re.a)(d,2),f=h[0],b=h[1],E=Object(a.useState)([]),g=Object(re.a)(E,2),v=g[0],D=g[1],y=Object(a.useState)({title:e.title,content:e.content}),j=Object(re.a)(y,2),O=j[0],w=j[1],C=Object(a.useState)({tripId:e.tripId}),I=Object(re.a)(C,2),x=I[0],_=I[1];Object(a.useEffect)((function(){e.destinations&&e.destinations.length>0&&e.destinations.map((function(e){return D((function(t){return t.concat({_id:e._id,city:e.city,startDate:e.startDate,endDate:e.endDate})}))})),e.people&&e.people.length>0&&e.people.map((function(e){return b((function(t){return t.concat({name:e.name})}))}))}),[b,D,e]);var k=function(e){w(Object(l.a)(Object(l.a)({},O),{},Object(A.a)({},e.target.name,e.target.value))),_(Object(l.a)(Object(l.a)({},x),{},Object(A.a)({},e.target.name,e.target.value)))},T=function(e,t,n){var a=Object(J.a)(v),r=a[n];"startDate"!==t&&"endDate"!==t||(e=m()(e).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0})),r[t]=e,D(a),_(Object(l.a)(Object(l.a)({},x),{},{destinations:a}))},S=function(e,t){e.preventDefault(),"people"===t?b(f.concat({name:""})):"destinations"===t&&D(v.concat({city:"",startDate:i,endDate:s}))},L=function(e,t){if(e.preventDefault(),"people"===t){if(f.length<=1)return;var n=Object(J.a)(f);n.pop(),b(n),_(Object(l.a)(Object(l.a)({},x),{},{people:n}))}else if("destinations"===t){if(v.length<=1)return;var a=Object(J.a)(v);a.pop(),D(a),_(Object(l.a)(Object(l.a)({},x),{},{destinations:a}))}};return r.a.createElement(xe,null,r.a.createElement(W.a,{onSubmit:function(t){t.preventDefault();var n=Object(l.a)({},x);0!==m()(i).diff(m()(e.startDate),"days")&&(n.startDate=m()(i).utcOffset(0)),0!==m()(s).diff(m()(e.endDate),"days")&&(n.endDate=m()(s).utcOffset(0)),e.updateTrip(n)},autoComplete:"off"},r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",placeholder:"Title of the trip",value:O.title,onChange:k,required:!0}))),!!i&&r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Start Date:",r.a.createElement(le.a,{selected:m()(i).toDate(),onChange:function(e){return o(m()(e).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}))},showMonthDropdown:!0,showYearDropdown:!0,startDate:m()(i).toDate()}))),!!s&&r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"End Date:",r.a.createElement(le.a,{selected:m()(s).toDate(),onChange:function(e){return p(m()(e).utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}))},showMonthDropdown:!0,showYearDropdown:!0,startDate:m()(s).toDate()}))),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"People:",f.length>0&&f.map((function(e,t){return r.a.createElement(K.a,{type:"person",name:"person",placeholder:"person name goes here",value:e.name,key:"person".concat(t),onChange:function(e){return function(e,t){var n=Object(J.a)(f);n[t].name=e,b(n),_(Object(l.a)(Object(l.a)({},x),{},{people:n}))}(e.target.value,t)},required:!0})}))),r.a.createElement(ie.a,{onClick:function(e){return S(e,"people")}},"+"),r.a.createElement(ie.a,{onClick:function(e){return L(e,"people")}},"-")),r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Content:",r.a.createElement(oe.a,{type:"text-area",name:"content",placeholder:"Tell me more",value:O.content,onChange:k,style:{minHeight:100}}))),v.map((function(e,t){return r.a.createElement("div",{key:"destination-".concat(t)},r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"City:",r.a.createElement("input",{type:"text",name:"city",label:"City",placeholder:"Where does this take place?",value:e.city,onChange:function(e){return T(e.target.value,"city",t)},required:!0})),r.a.createElement("label",null,"Start Date:",r.a.createElement(le.a,{selected:e.startDate?m()(e.startDate).toDate():null,onChange:function(e){return T(e,"startDate",t)}})),r.a.createElement("label",null,"End Date:",r.a.createElement(le.a,{selected:e.endDate?m()(e.endDate).toDate():null,onChange:function(e){return T(e,"endDate",t)}}))))})),r.a.createElement(ie.a,{onClick:function(e){return S(e,"destinations")}},"+"),r.a.createElement(ie.a,{onClick:function(e){return L(e,"destinations")}},"-"),r.a.createElement(ie.a,{type:"submit",style:{width:"100%",marginTop:"30px"}},"Submit")))},ke=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip;return Object(l.a)({startDate:n&&n.startDate||"",endDate:n&&n.endDate||"",title:n&&n.title||"",content:n&&n.content||"",people:n&&n.people||[],destinations:n&&n.destinations||[]},t)}),{updateTrip:function(e){return function(t,n){t({type:_+"_PENDING"});var a=e.tripId;if(!a){var r=n();if(!(a=r&&r.trip&&r.trip.trip._id)){t({type:_+"_REJECTED",payload:"trip is missing"})}}return M.a.patch("".concat("https://travel-photo-diary-backend.herokuapp.com","/api/trips/").concat(a),{headers:{"Content-Type":"application/json",accept:"application/json"},data:Object(l.a)({},e)}).then((function(e){e&&e.data&&e.data.trip&&t({type:_+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:_+"_REJECTED",payload:e})}))}}})(_e),Te=n(599),Se=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip;return Object(l.a)({people:n&&n.people||[],destinations:n&&n.destinations||[],tripId:n&&n._id||""},t)}),{createPhotos:ne})($);function Le(){var e=Object(s.a)(["\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n"]);return Le=function(){return e},e}function Fe(){var e=Object(s.a)(["\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n"]);return Fe=function(){return e},e}function Pe(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n"]);return Pe=function(){return e},e}function Ne(){var e=Object(s.a)(["\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n"]);return Ne=function(){return e},e}var Me=p.b.div(Ne()),Ye=p.b.div(Pe()),Re=p.b.label(Fe()),Ue=Object(p.b)(ie.a)(Le()),Je=function(e){var t=Object(a.useState)(!1),n=Object(re.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)({_id:"",date:"",location:"",destination:""}),u=Object(re.a)(c,2),s=u[0],p=u[1];if(e.updated)return window.location.reload();if(e.updating&&!e.updated)return r.a.createElement(De.a,null);var d=function(e,t,n){var a;p(Object(l.a)(Object(l.a)({},s),{},(a={},Object(A.a)(a,t,e),Object(A.a)(a,"_id",n),a)))},m=function(t){t.preventDefault(),e.updatePhoto(s)};return console.log(s),r.a.createElement(Me,null,r.a.createElement(Ye,null,r.a.createElement(Re,null,"Images: "),e.photos.map((function(t,n){return r.a.createElement(Te.a,{key:t._id,trigger:r.a.createElement(q.Image,{format:"jpg",width:"100",height:"100",crop:"fill",cloudName:"dly4mslmg",publicId:t.publicId,alt:t.city+t.date}),closeIcon:!0},r.a.createElement(Te.a.Content,{image:!0},r.a.createElement(q.Image,{key:t.publicId,publicId:t.publicId,width:"300",cloudName:"dly4mslmg",format:"jpg",alt:t.city+t.date}),r.a.createElement(W.a,{onSubmit:m,autoComplete:"off"},r.a.createElement("label",null,"Current Destination: ",t.city,r.a.createElement(B.a,{placeholder:"Destination",name:"destination",selection:!0,required:!0,fluid:!0,options:(o=e.destinations,!o||o.length<=0?[]:o.map((function(e){return{key:e.city,text:e.city,value:e._id}}))),onChange:function(e,n){var a=n.value;return d(a,"destination",t._id)}})),r.a.createElement("label",null,"Current Date: ",t.date,r.a.createElement(B.a,{placeholder:"Date",name:"date",selection:!0,fluid:!0,options:(a=e.startDate,i=e.endDate,Ae(a,i).map((function(e){return{key:e,text:e,value:e}}))),onChange:function(e,n){var a=n.value;return d(a,"date",t._id)}})),r.a.createElement(W.a.Field,{control:K.a,label:"Location",name:"location",fluid:!0,value:s.location||t.location,onChange:function(e,n){var a=n.value;return d(a,"location",t._id)}}),r.a.createElement(W.a.Button,null,"Submit"))),r.a.createElement(Te.a.Actions,null,r.a.createElement(ie.a,{negative:!0,icon:"trash",labelPosition:"right",content:"Delete",onClick:function(){e.deletePhoto(t._id,e.tripId)}})));var a,i,o})),r.a.createElement(Ue,{onClick:function(){return o(!0)}},"+")),i&&r.a.createElement(Se,null))},Ae=function(e,t){var n=[],a=m()(e).startOf("day"),r=m()(t).startOf("day");for(n.push(a.clone().utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).format("MM/DD/YYYY"));a.add(1,"days").diff(r)<=1;)n.push(a.clone().utcOffset(0).set({hour:0,minute:0,second:0,millisecond:0}).format("MM/DD/YYYY"));return n},Ge="https://travel-photo-diary-backend.herokuapp.com",Xe={updatePhoto:function(e){return function(t,n){t({type:P+"_PENDING"});var a=e.tripId;if(!a){var r=n();if(!(a=r&&r.trip&&r.trip.trip._id)){t({type:P+"_REJECTED",payload:"trip is missing"})}}return M.a.patch("".concat("https://travel-photo-diary-backend.herokuapp.com","/api/photos/").concat(e._id),{headers:{"Content-Type":"application/json",accept:"application/json"},data:Object(l.a)(Object(l.a)({},e),{},{tripId:a})}).then((function(e){e&&e.data&&e.data.trip&&t({type:P+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:P+"_REJECTED",payload:e})}))}},deletePhoto:function(e,t){return function(n,a){if(n({type:S+"_PENDING"}),!t){var r=a();if(!(r&&r.trip&&r.trip.trip._id)){n({type:S+"_REJECTED",payload:"trip is missing"})}}return M.a.delete("".concat(Ge,"/api/photos/").concat(e),{headers:{"Content-Type":"application/json",accept:"application/json"},data:{tripId:t}}).then((function(e){e&&e.data&&e.data.trip&&n({type:S+"_FULFILLED",payload:e.data})})).catch((function(e){n({type:S+"_REJECTED",payload:e})}))}}},ze=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip;return Object(l.a)({photos:n&&n.photos||[],tripId:n&&n._id||"",destinations:n&&n.destinations||[],startDate:n&&n.startDate||"",endDate:n&&n.endDate||"",updating:e.photo&&e.photo.updating||!1,updated:e.photo&&e.photo.updated||!1},t)}),Xe)(Je),He=n(595),qe=function(e){Object(z.a)(n,e);var t=Object(H.a)(n);function n(e){var a;return Object(G.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.state.photo.forEach((function(e){return e.size=a.state.isSmall?"small":"large"})),a.props.createSticker({photos:a.state.photo,tripId:a.props.tripId})},a.state={photo:[],isSmall:!0},a}return Object(X.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tripId?[this.props.tripId]:[];window.cloudinary.createUploadWidget({cloudName:"dly4mslmg",uploadPreset:"hknbr8bn",folder:"trips",tags:t},(function(t,n){if(n&&"success"===n.event){var a={url:n.info.url,publicId:n.info.public_id};e.setState({photo:[].concat(Object(J.a)(e.state.photo),[a])})}})).open()}},{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{onSubmit:this.handleSubmit},this.state.photo&&this.state.photo.length>0&&this.state.photo.map((function(e){return r.a.createElement(q.Image,{key:e.publicId,publicId:e.publicId,width:"100",height:"100",cloudName:"dly4mslmg"})})),r.a.createElement(He.a,{checked:this.state.isSmall,onChange:function(){return e.setState({isSmall:!e.state.isSmall})},label:"picture is small"}),r.a.createElement(W.a.Button,null,"Submit"))}}]),n}(r.a.Component),We=Object(c.h)(qe),Be=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip;return Object(l.a)({tripId:n&&n._id||"",photos:n&&n.stickers||[],isCreating:e.stickers&&!!e.stickers.isCreating},t)}),{createSticker:function(e){return function(t,n){t({type:k+"_PENDING"});var a=e.tripId;if(!a){var r=n();if(!(a=r&&r.trip&&r.trip.trip._id)){t({type:k+"_REJECTED",payload:"trip is missing"})}}return M.a.post(te+"/api/stickers",{headers:{"Content-Type":"application/json",accept:"application/json"},data:e}).then((function(e){e&&e.data&&t({type:k+"_FULFILLED",payload:e.data})})).catch((function(e){t({type:k+"_REJECTED",payload:e})}))}}})(We);function Ke(){var e=Object(s.a)(["\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n"]);return Ve=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n"]);return Ze=function(){return e},e}var $e=p.b.div(Ze()),et=p.b.div(Ve()),tt=p.b.label(Qe()),nt=Object(p.b)(ie.a)(Ke()),at=function(e){return e.updated?window.location.reload():e.updating&&!e.updated?r.a.createElement(De.a,null):r.a.createElement($e,null,r.a.createElement(et,null,r.a.createElement(tt,null,"Stickers: "),e.photos.map((function(t,n){return r.a.createElement(Te.a,{key:t._id+n,trigger:r.a.createElement(q.Image,{format:"jpg",width:"100",height:"100",crop:"fill",cloudName:"dly4mslmg",publicId:t.publicId,alt:"semtimental sticker "+n}),closeIcon:!0},r.a.createElement(Te.a.Content,{image:!0},r.a.createElement(q.Image,{key:t.publicId,publicId:t.publicId,width:"300",cloudName:"dly4mslmg",format:"jpg",alt:"semtimental sticker "+n})),r.a.createElement(Te.a.Actions,null,r.a.createElement(ie.a,{negative:!0,icon:"trash",labelPosition:"right",content:"Delete",onClick:function(){e.deleteSticker(t._id,e.tripId)}})))})),r.a.createElement(nt,{onClick:function(){return e.setCreateSticker()}},"+")),e.isCreating&&r.a.createElement(Be,null))},rt={deleteSticker:function(e,t){return function(n,a){if(n({type:L+"_PENDING"}),!t){var r=a();if(!(r&&r.trip&&r.trip.trip._id)){n({type:L+"_REJECTED",payload:"trip is missing"})}}return M.a.delete("".concat(Ge,"/api/stickers/").concat(e),{headers:{"Content-Type":"application/json",accept:"application/json"},data:{tripId:t}}).then((function(e){e&&e.data&&e.data.trip&&n({type:L+"_FULFILLED",payload:e.data})})).catch((function(e){n({type:L+"_REJECTED",payload:e})}))}},setCreateSticker:function(){return function(e){e({type:T})}}},it=Object(u.b)((function(e,t){var n=e.trip&&e.trip.trip;return Object(l.a)({photos:n&&n.stickers||[],tripId:n&&n._id||"",isCreating:e.stickers&&!!e.stickers.isCreating,updating:e.stickers&&e.stickers.updating||!1,updated:e.stickers&&e.stickers.updated||!1},t)}),rt)(at);function ot(){var e=Object(s.a)(["\n  max-width: 300px;\n  margin: 50px auto;\n\n  button {width: 100%}\n"]);return ot=function(){return e},e}var ct=p.b.div(ot()),lt=Object(c.h)((function(e){var t=Object(a.useState)(!1),n=Object(re.a)(t,2),i=n[0],o=n[1];return r.a.createElement(ct,null,r.a.createElement(Te.a,{open:i,trigger:r.a.createElement(ie.a,{onClick:function(){return o(!0)}},"Delete Trip")},r.a.createElement(Te.a.Header,null,"Delete This Trip"),r.a.createElement(Te.a.Content,null,r.a.createElement("p",null,"Are you sure you want to delete this trip?")),r.a.createElement(Te.a.Actions,null,r.a.createElement(ie.a,{onClick:function(){return o(!1)}},"Close"),r.a.createElement(ie.a,{negative:!0,icon:"trash",labelPosition:"right",content:"Delete",onClick:function(t){return function(t){t.preventDefault(),e.deleteTrip(e.tripId),e.history.push("/articles")}(t)}}))))})),ut=Object(u.b)((function(e,t){return Object(l.a)({redirect:e&&e.trip&&!!e.trip.deleted},t)}),{deleteTrip:function(e){return function(t){return t({type:F+"_PENDING"}),M.a.delete("".concat(Ge,"/api/trips/").concat(e),{headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){e&&200===e.status&&t({type:F+"_FULFILLED"})})).catch((function(e){t({type:F+"_REJECTED",payload:e})}))}}})(lt);function st(){var e=Object(s.a)(["\n    max-width: 300px;\n    margin: auto;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n"]);return st=function(){return e},e}var pt=p.b.div(st()),dt=function(e){var t=Object(c.g)().tripId,n=e.fetchArticle,i=e.updateProp;return Object(a.useEffect)((function(){t&&(n(t),i({_id:t}))}),[t,n,i]),e.fetched&&!e.trip.trip._id?r.a.createElement(U,null):e.fetching?r.a.createElement(Ce.a,null,r.a.createElement(De.a,{active:!0})):r.a.createElement(pt,null,r.a.createElement(ke,{tripId:t}),r.a.createElement(ze,null),r.a.createElement(it,null),r.a.createElement(ut,{tripId:t}))},mt={fetchArticle:R,updateProp:function(e){return function(t){t({type:j,payload:e})}}},ht=Oe(Object(u.b)((function(e){return{trip:e.trip,fetching:e.trip.fetching,fetched:e.trip.fetched}}),mt)(dt));function ft(){var e=Object(s.a)(["\n            opacity: 0.8;\n            cursor: grabbing;\n        "]);return ft=function(){return e},e}function bt(){var e=Object(s.a)(["\n    cursor: move;\n    width: ","px;\n    transform: translate(\n        ","px,\n        ","px\n    );\n    transition: transform 0.3s ease-in-out;\n    background-image: url(",");\n    padding-top: ","%;\n    background-position: center top;\n    background-size: contain;\n    background-repeat: no-repeat;\n    position: absolute;\n\n    ",";\n"]);return bt=function(){return e},e}var Et=p.b.div(bt(),(function(e){return e.width||200}),(function(e){return e.x||0}),(function(e){return e.y||0}),(function(e){return e.img}),(function(e){return e.height||40}),(function(e){return e.isDragging&&Object(p.a)(ft())})),gt=function(e){Object(z.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(G.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isDragging:!1,originalX:0,originalY:0,translateX:0,translateY:0,lastTranslateX:0,lastTranslateY:0},e.handleMouseDown=function(t){var n=t.clientX,a=t.clientY;window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp),window.removeEventListener("touchmove",e.handleMouseMove),e.props.onDragStart&&e.props.onDragStart(),e.setState({originalX:n,originalY:a,isDragging:!0})},e.handleMouseMove=function(t){var n=t.clientX,a=t.clientY,r=e.state.isDragging,i=e.props.onDrag;r&&e.setState((function(e){return{translateX:n-e.originalX+e.lastTranslateX,translateY:a-e.originalY+e.lastTranslateY}}),(function(){i&&i({translateX:e.state.translateX,translateY:e.state.translateY})}))},e.handleMouseUp=function(){window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),window.removeEventListener("touchmove",e.handleMouseMove),e.setState({originalX:0,originalY:0,lastTranslateX:e.state.translateX,lastTranslateY:e.state.translateY,isDragging:!1},(function(){e.props.onDragEnd&&e.props.onDragEnd()}))},e}return Object(X.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.x,a=e.y,i=e.width,o=e.height,c=this.state,l=c.translateX,u=c.translateY,s=c.isDragging;return r.a.createElement(Et,{onMouseDown:this.handleMouseDown,x:l,y:u,isDragging:s,img:this.props.img,style:{left:n,top:a},width:i,height:o},t)}}]),n}(r.a.Component);function vt(){var e=Object(s.a)(["\n    position: relative;\n    overflow: hidden;\n    margin: -30px -30px;\n    height: 100vh;\n"]);return vt=function(){return e},e}function Dt(){var e=Object(s.a)(["\n    height: calc(100vh - 30px);\n    // background-color: #f2eade;\n    position: relative;\n    margin: 10px;\n    overflow: hidden;\n    \n    .title-container {\n        position: absolute;\n        margin: auto;\n        background-color: white;\n        width: 300px;\n        border: 1px solid;\n        margin: 10px;\n        bottom: 10%;\n        right: 0%;\n        padding: 30px;\n        z-index: 3;\n        text-align: center;\n\n        @media screen and (max-width: ",") {\n            padding: 15px;\n            bottom: 0;\n            margin: 0;\n        }\n    }\n"]);return Dt=function(){return e},e}var yt=p.b.div(Dt(),"600px"),jt=p.b.div(vt()),Ot=function(e){Object(z.a)(n,e);var t=Object(H.a)(n);function n(e){var a;return Object(G.a)(this,n),(a=t.call(this,e)).renderPeople=function(e){if(1===e.length)return r.a.createElement("div",null,e[0].name);var t=e.map((function(e){return e.name}));return r.a.createElement("div",null," ",t.join(", "))},a.state={dimensions:null,stickers:e.trip.stickers||[],title:e.trip.title||"",startDate:e.trip.startDate||"",endDate:e.trip.endDate||"",people:e.trip.people||[]},a}return Object(X.a)(n,[{key:"componentDidMount",value:function(){this.setState({dimensions:{width:this.container.offsetWidth,height:this.container.offsetHeight}})}},{key:"renderStickers",value:function(){var e=this;return this.state.dimensions&&this.state.stickers.map((function(t){return console.log(t),console.log(e),r.a.createElement(gt,{key:t._id,img:t.url,x:Math.floor(Math.random()*(e.state.dimensions.width-300)),y:Math.floor(Math.random()*(e.state.dimensions.height-300)),width:t.size&&"large"===t.size?300:150,height:t.size&&"large"===t.size?20:50})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.startDate,i=t.endDate,o=t.people;return r.a.createElement(yt,null,r.a.createElement("div",{className:"title-container"},r.a.createElement("h2",null,n),a&&i?r.a.createElement("span",{style:{textTransform:"capitalize"}},m()(a).format("MMM DD, YYYY")+" - "+m()(i).format("MMM DD, YYYY")):null,o&&o.length>0&&this.renderPeople(o)),r.a.createElement(jt,{ref:function(t){e.container=t}},this.renderStickers()))}}]),n}(r.a.Component),wt=Object(u.b)((function(e,t){return Object(l.a)({trip:e.trip&&e.trip.trip||{}},t)}))(Ot);function Ct(){var e=Object(s.a)(["\n    font-size: 14px;\n    padding: 10px;\n    border-top: 1px solid;\n    height: 100%;\n    max-height: 0;\n    transition: all 0.5s ease-in;\n"]);return Ct=function(){return e},e}function It(){var e=Object(s.a)(["\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    background-color: white;\n\n    cursor:pointer;\n    white-space: pre-line;\n    padding: 10px;\n    height: auto;\n    max-height: 30px;\n    transition: all 0.5s ease-in;\n\n    &.active {\n        max-height: 100%;\n        overflow-y: scroll;\n    }\n\n    &.active>div {\n        max-height: 100vh;\n    }\n    &.not-active>div {\n        max-height: 0;\n    }\n"]);return It=function(){return e},e}function xt(){var e=Object(s.a)(["\n    bottom: 0;\n    position: absolute;\n    color: red;\n    text-transform: uppercase;\n\n    a { \n        color: inherit;\n    }\n"]);return xt=function(){return e},e}function _t(){var e=Object(s.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    max-height: calc(100% - 30px);\n    overflow-y: scroll;\n\n    img {\n        margin: 10px;\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 800px) {\n        margin: auto -10px;\n\n       img {\n           margin: 5px;\n           width: 80px\n       }\n    }\n\n    @media screen and (max-width: ",") {\n        margin: auto -10px;\n        align-items: flex-start;\n        height: auto;\n\n       img {\n           margin: 5px;\n       }\n    }\n"]);return _t=function(){return e},e}function kt(){var e=Object(s.a)(["\n    width: 50vw;\n    margin: 10px;\n    overflow: hidden;\n    position: relative;\n\n    @media screen and (max-width: ",") {\n        width: 100%;\n        height: 100%;\n        background-color: white;\n        margin: 0;\n    }\n"]);return kt=function(){return e},e}function Tt(){var e=Object(s.a)(["\n    width: 50vw;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    margin: 10px;\n\n    @media screen and (max-width: ",") {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        margin: 0;\n        background-color: white;\n        padding: 10px;\n        z-index: -1;\n\n        &.active{\n            z-index: 3;\n        }\n    }\n"]);return Tt=function(){return e},e}function St(){var e=Object(s.a)(["\n    display: flex;\n    height: calc(100vh - 20px);\n    padding: 10px;\n    overflow: hidden;\n    position: relative;\n    background-color: white;\n"]);return St=function(){return e},e}var Lt=p.b.div(St()),Ft=p.b.div(Tt(),"600px"),Pt=p.b.div(kt(),"600px"),Nt=p.b.div(_t(),"600px"),Mt=p.b.div(xt()),Yt=p.b.div(It()),Rt=p.b.div(Ct()),Ut=function(e){var t=e.trip,n=Object(a.useState)(!1),i=Object(re.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)({}),u=Object(re.a)(l,2),s=u[0],p=u[1],d=Object(a.useState)(!1),h=Object(re.a)(d,2),f=h[0],b=h[1];Object(a.useEffect)((function(){t.photos&&p(t.photos[0])}),[p,t.photos]);if(!t.photos||t.photos.length<1)return null;return r.a.createElement(Lt,null,r.a.createElement(Ft,{className:f&&"active",onClick:function(){return b(!1)},style:{backgroundImage:"url(http://res.cloudinary.com/".concat("dly4mslmg","/image/upload/v1/").concat(s.publicId,".jpg)")}},function(){var e=[];return s.date&&e.push(r.a.createElement("span",null,m()(s.date).format("'YY/MM/DD"))),s.city&&e.push(r.a.createElement("span",null," ",s.city," ")),s.location&&e.push(r.a.createElement("span",null," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:s.location},r.a.createElement(ve.a,{link:!0,name:"map marker"})))),r.a.createElement(Mt,null,e.map((function(e,t){return r.a.createElement(a.Fragment,{key:t},e)})))}()),r.a.createElement("hr",{style:{margin:0}}),r.a.createElement(Pt,null,r.a.createElement(Nt,null,t.photos.map((function(e,t){return r.a.createElement(q.Image,{format:"jpg",crop:"fit",key:e._id+t,onClick:function(){return p(e),void b(!0)},publicId:e.publicId,alt:e.city+e.date,cloudName:"dly4mslmg"},r.a.createElement(q.Transformation,{width:"100",height:"100",crop:"fill"}))}))),r.a.createElement(Yt,{onClick:function(){return c(!o)},className:o?"active":"not-active"},o?"Less":"More",t.content&&t.content?r.a.createElement(Rt,null," ",t.content):null)))},Jt=Object(u.b)((function(e,t){return Object(l.a)({trip:e.trip&&e.trip.trip||{}},t)}))(Ut),At=function(e){var t=Object(c.g)().tripId,n=e.fetchArticle;return Object(a.useEffect)((function(){t&&n(t)}),[t,n]),e.fetching?r.a.createElement(Ce.a,null,r.a.createElement(De.a,{active:!0})):e.trip?r.a.createElement("div",null,r.a.createElement(wt,null),r.a.createElement(Jt,null)):r.a.createElement("div",null,"nothing in single article")},Gt=Object(u.b)((function(e,t){return Object(l.a)({trip:e.trip,fetching:e.trip.fetching,fetched:e.trip.fetched},t)}),{fetchArticle:R})(At),Xt=Object(c.h)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",render:function(){return r.a.createElement(c.a,{to:"/articles"})}}),r.a.createElement(c.b,{path:"/articles/:tripId",component:Gt}),r.a.createElement(c.b,{path:"/articles",component:U}),r.a.createElement(c.b,{path:"/create",component:we}),r.a.createElement(c.b,{path:"/edit/:tripId",component:ht}),r.a.createElement(c.b,{path:"/edit",component:function(e){return r.a.createElement(U,Object.assign({toEdit:!0},e))}})))})),zt=n(73),Ht=n(313),qt={};var Wt={};var Bt={};var Kt={updating:!1};var Qt={isCreating:!1,updating:!1};var Vt=Object(zt.combineReducers)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y+"_PENDING":return{fetching:!0};case y+"_REJECTED":var n=t.payload.error;return{fetching:!1,fetched:!0,error:n};case y+"_FULFILLED":var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,fetching:!1,articles:a});case O:return qt;default:return e}},destination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w+"_PENDING":return Object(l.a)(Object(l.a)({},e),{},{fetching:!0});case w+"_REJECTED":var n=t.payload&&t.payload.response&&t.payload.response.data;return{fetching:!1,fetched:!1,error:n};case w+"_FULFILLED":var a=t.payload.destinations;return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,fetching:!1,destinations:a});case O:return Wt;default:return e}},trip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C+"_PENDING":case F+"_PENDING":case _+"_PENDING":return Object(l.a)(Object(l.a)({},e),{},{fetching:!0});case C+"_REJECTED":case _+"_REJECTED":case F+"_REJECTED":case w+"_REJECTED":var n=t.payload&&t.payload.response&&t.payload.response.data;return{fetching:!1,fetched:!1,error:n};case C+"_FULFILLED":case _+"_FULFILLED":case w+"_FULFILLED":var a=t.payload.trip;return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,fetching:!1,trip:a});case x+"_PENDING":return{fetching:!0};case x+"_REJECTED":var r=t.payload.error;return{fetching:!1,fetched:!0,error:r};case x+"_FULFILLED":var i=t.payload;return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,fetching:!1,trip:i});case j:var o=Object(l.a)(Object(l.a)({},t.payload),e.newTrip);return Object(l.a)(Object(l.a)({},e),{},{newTrip:o});case F+"_FULFILLED":return Object(l.a)(Object(l.a)({},e),{},{fetched:!0,fetching:!1,deleted:!0,trip:{}});case O:return Bt;default:return e}},photo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I+"_PENDING":return Object(l.a)(Object(l.a)({},e),{},{updating:!0});case I+"_REJECTED":var n=t.payload&&t.payload.response&&t.payload.response.data;return{updating:!1,updated:!1,error:n};case I+"_FULFILLED":return Object(l.a)(Object(l.a)({},e),{},{updated:!0,updating:!1});case S+"_PENDING":return Object(l.a)(Object(l.a)({},e),{},{updating:!0});case S+"_REJECTED":var a=t.payload&&t.payload.response&&t.payload.response.data;return{updating:!1,updated:!1,error:a};case S+"_FULFILLED":return Object(l.a)(Object(l.a)({},e),{},{updated:!0,updating:!1});case O:return Kt;default:return e}},stickers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var n=!e.isCreating;return Object(l.a)(Object(l.a)({},e),{},{isCreating:n});case L+"_PENDING":case k+"_PENDING":return Object(l.a)(Object(l.a)({},e),{},{updating:!0});case L+"_REJECTED":case k+"_REJECTED":var a=t.payload&&t.payload.response&&t.payload.response.data;return{updating:!1,updated:!1,error:a};case L+"_FULFILLED":case k+"_FULFILLED":return Object(l.a)(Object(l.a)({},e),{},{updated:!0,updating:!1});case O:return Qt;default:return e}}}),Zt=n(314),$t=Object(zt.createStore)(Vt,Object(Zt.composeWithDevTools)(Object(zt.applyMiddleware)(Ht.a)));o.a.render(r.a.createElement(u.a,{store:$t},r.a.createElement(ge.a,null,r.a.createElement(Xt,null)),","),document.getElementById("root"))}},[[325,1,2]]]);
//# sourceMappingURL=main.e34dbaa2.chunk.js.map