{"version":3,"sources":["components/articles/articles.js","utils/constants.js","redux/action/fetchActions.js","components/articles/index.js","components/create/photo/create-photo.js","redux/action/createActions.js","components/create/photo/index.js","components/create/destination/create-destinations.js","components/create/destination/index.js","components/create/trip/create-trip.js","components/create/trip/index.js","components/create/create.js","components/hoc/withAuth.js","components/create/index.js","components/edit/trip/trip.js","components/edit/trip/index.js","redux/action/updateActions.js","components/edit/photo/create-photo.js","components/edit/photo/photos-list.js","components/edit/photo/index.js","redux/action/deleteActions.js","components/edit/stickers/create-sticker/create-sticker.js","components/edit/stickers/create-sticker/index.js","components/edit/stickers/photos-list.js","components/edit/stickers/index.js","components/edit/delete-trip/delete-trip.js","components/edit/delete-trip/index.js","components/edit/edit.js","components/edit/index.js","components/show-article/sticker.js","components/show-article/article-title/title.js","components/show-article/article-title/index.js","components/show-article/article-pictures/picture-container.js","components/show-article/article-pictures/index.js","components/show-article/show-article.js","components/show-article/index.js","app.js","redux/reducers/articlesReducer.js","redux/reducers/destinationReducer.js","redux/reducers/tripReducer.js","redux/reducers/photoReducer.js","redux/reducers/stickerReducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["StyledWrapper","styled","div","StyledArticlesWrapper","ArticleWrapper","Articles","props","fetchArticles","articles","link","toEdit","useEffect","length","map","e","formattedDates","moment","startDate","format","endDate","key","_id","onClick","history","push","title","ActionTypes","fetchArticle","id","dispatch","type","axios","get","headers","accept","then","r","data","trip","payload","catch","err","connect","state","ownProps","CreatePhoto","formatPeople","people","d","name","text","value","formatDestinations","destinations","city","formatDates","photo","destination","foundDestination","find","calculateDays","handleChange","setState","handleSubmit","preventDefault","createPhotos","src","date","location","tag","this","tripId","window","cloudinary","createUploadWidget","cloudName","process","uploadPreset","folder","tags","error","result","event","newPhoto","url","info","publicId","public_id","open","Form","onSubmit","autoComplete","width","Field","Dropdown","placeholder","multiple","fluid","selection","options","onChange","required","control","Input","label","Button","React","Component","withRouter","start","end","dates","currDate","startOf","lastDate","clone","utcOffset","set","hour","minute","second","millisecond","add","diff","getState","post","StyledFormWrapper","CreateDestinations","useState","setDestinations","idx","newDestinations","createDestinations","target","selected","minDate","maxDate","concat","updatedDestinations","pop","style","marginTop","CreateTrip","isTripFilledOut","setIsTripFilledOut","setPeople","Date","setStartDate","setEndDate","content","form","setForm","updateField","formattedStartDate","formatttedEndDate","createTrip","showMonthDropdown","showYearDropdown","p","users","handlePeopleChange","updatedPeople","TextArea","minHeight","create","CreateArticle","isDestinationsFetched","isTripFetched","withAuth","WrappedComponent","isSignedIn","onAuthChange","auth","onSignIn","signIn","renderSignInOrReturn","Group","icon","negative","labelPosition","Icon","Or","as","Link","to","gapi","load","client","init","clientId","scope","auth2","getAuthInstance","listen","Loader","active","inline","currentUser","getBasicProfile","getEmail","fetched","Create","updatedForm","setUpdatedForm","current","handleAdd","field","handleSubtract","params","updateTrip","toDate","patch","Trip","PhotosContainer","StyledSemanticLabel","StyledButton","PhotosList","creating","changeCreating","updated","reload","updating","photos","Modal","trigger","height","crop","alt","closeIcon","Content","image","Actions","deletePhoto","delete","CreateSticker","forEach","size","isSmall","createSticker","Checkbox","checked","stickers","isCreating","deleteSticker","setCreateSticker","actions","changeOpen","Header","deleteTrip","handleDelete","redirect","deleted","status","DeleteTrip","EditArticle","useParams","updateProp","fetching","Segment","dispatchAction","Edit","Container","x","y","img","isDragging","css","Sticker","originalX","originalY","translateX","translateY","lastTranslateX","lastTranslateY","handleMouseDown","clientX","clientY","addEventListener","handleMouseMove","handleMouseUp","onDragStart","onDrag","prevState","removeEventListener","onDragEnd","children","onMouseDown","left","top","TitleWrapper","StickerContainer","Title","renderPeople","peopleNames","join","dimensions","container","offsetWidth","offsetHeight","s","Math","floor","random","className","textTransform","ref","el","renderStickers","PictureContainerWrapper","PictureFullBleed","PostContentContainer","PicturesContainer","PictureDescription","TripDescription","AdditionalContent","PictureContainer","expandText","setExpandText","currentPicture","setCurrentPicture","showImage","setShowImage","backgroundImage","desc","rel","href","renderDescription","margin","ShowArticle","exact","path","render","component","Article","initialState","combineReducers","action","response","newTrip","store","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.14f72bec.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport moment from \"moment\";\n\nconst StyledWrapper = styled.div`\n    max-width: 400px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n`;\n    \nconst StyledArticlesWrapper = styled.div`\n    display: flex;\n    border: 1px solid;\n    flex-direction: column;\n    padding: 10px;\n    width: 100%;\n\n    h2 {\n        border-bottom: 1px dotted;\n    }\n\n`;\n    \nconst ArticleWrapper = styled.div`\n    display: flex;\n    justify-content: space-between;\n    min-width: 100%;\n    margin: 10px 0;\n    cursor: pointer;\n\n    &:hover {\n        color: red;\n    }\n`;\n\n\nconst Articles = (props) => {\n    const { fetchArticles, articles } = props;\n    const link = !!props.toEdit ? 'edit' : 'articles';\n    \n    useEffect(() => {\n        fetchArticles();\n    }, [fetchArticles]);\n\n    return <StyledWrapper>\n        {props.articles && !!props.articles.length \n            ? <StyledArticlesWrapper>\n                <h2>Travel</h2>\n                {articles.map(e => {\n                    const formattedDates = `${moment(e.startDate).format(\"MM/DD/YYYY\")} - ${moment(e.endDate).format(\"MM/DD/YYYY\")}`\n                    return <ArticleWrapper key={e._id} onClick={() => props.history.push(`${link}/${e._id}`)}>\n                        <div>{e.title}</div>\n                        <div>{formattedDates}</div>\n                    </ArticleWrapper>\n                })}\n            </StyledArticlesWrapper>\n            : <div>coming soon!</div>\n        }\n    </StyledWrapper>\n};\n\nexport default Articles;\n","export const ActionTypes = {\n    FETCH_ARTICLES: \"FETCH_ARTICLES\",\n    UPDATE_PROP: \"UPDATE_PROP\",\n    RESET: \"RESET\",\n    CREATE_DESTINATIONS: \"CREATE_DESTINATIONS\",\n    CREATE_TRIP: \"CREATE_TRIP\",\n    CREATE_PHOTO: \"CREATE_PHOTO\",\n    FETCH_TRIP: \"FETCH_TRIP\",\n    UPDATE_TRIP: \"UPDATE_TRIP\",\n    CREATE_STICKER: \"CREATE_STICKER\",\n    SET_CREATE_STICKER: \"SET_CREATE_STICKER\",\n    DELETE_PHOTO: \"DELETE_PHOTO\",\n    DELETE_STICKER: \"DELETE_STICKER\",\n    DELETE_TRIP: \"DELETE_TRIP\",\n};","import { ActionTypes } from '../../utils/constants';\nimport axios from 'axios';\n\nexport const fetchArticles = () => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.FETCH_ARTICLES + '_PENDING' }\n        )\n        return axios.get(\n            \"http://localhost:8000/api/trips\",\n            {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                }\n            })\n            .then(r => {\n                if (r && r.data && r.data.trip && !!r.data.trip.length) {\n                    dispatch({ type: ActionTypes.FETCH_ARTICLES + '_FULFILLED', payload: r.data.trip });\n                }\n            })\n            .catch(err=> {\n                dispatch({ type: ActionTypes.FETCH_ARTICLES + '_REJECTED', payload: err });\n            })\n    }\n}\n\nexport const fetchArticle = (id) => {\n\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.FETCH_TRIP + '_PENDING' }\n        )\n        return axios.get(\n            `http://localhost:8000/api/trips/${id}`,\n            {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                }\n            })\n            .then(r => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({ type: ActionTypes.FETCH_TRIP + '_FULFILLED', payload: r.data.trip });\n                }\n            })\n            .catch(err=> {\n                dispatch({ type: ActionTypes.FETCH_TRIP + '_REJECTED', payload: err });\n            })\n    }\n}","import { connect } from 'react-redux';\nimport Articles from './articles';\n\nimport { fetchArticles } from 'redux/action/fetchActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n       articles: (state.articles && state.articles.articles) || [],\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { fetchArticles })(Articles);","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport moment from \"moment\";\n\nimport { Image } from \"cloudinary-react\";\nimport { Form, Dropdown, Input } from \"semantic-ui-react\";\nimport styled from \"styled-components\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\nconst UPLOAD_PRESET = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET;\n\nconst StyledWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n`;\n\nclass CreatePhoto extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      photo: {\n        src: [],\n        people: [],\n        date: \"\",\n        destination: \"\",\n        location: \"\",\n      },\n      people: props.people,\n      destinations: props.destinations,\n    };\n  }\n\n  componentDidMount() {\n    const tag = this.props.tripId ? [this.props.tripId] : [];\n\n      window.cloudinary.createUploadWidget(\n      {\n        cloudName: MY_CLOUD_NAME,\n        uploadPreset: UPLOAD_PRESET,\n        folder: \"trips\",\n        tags: tag,\n        format: 'jpg',\n      },\n      (error, result) => {\n        if (result && result.event === \"success\") {\n          const newPhoto = {\n            url: result.info.url,\n            publicId: result.info.public_id,\n          }\n          this.setState({\n            photo: {\n              ...this.state.photo,\n              src: [...this.state.photo.src, newPhoto]\n            }\n          });\n        }\n      }\n    ).open()\n  }\n\n  formatPeople = (people) => {\n    if (!people || people.length <= 0) {\n        return [];\n    }\n   return people.map((d) => {\n        return {\n            key: d.name,\n            text: d.name,\n            value: d._id,\n        };\n    });\n  }\n\n  formatDestinations = (destinations) => {\n    if (!destinations || destinations.length <= 0) {\n        return [];\n    }\n\n    return destinations.map((d) => {\n        return {\n            key: d.city,\n            text: d.city,\n            value: d._id,\n        };\n    });\n  }\n\n  formatDates = (destinations) => {\n    if (!destinations || destinations.length <= 0) {\n        return [];\n    }\n\n    if (!this.state.photo.destination) {\n      return [];\n    }\n\n    const foundDestination = destinations.find(d=>d._id === this.state.photo.destination);\n    const dates = calculateDays(foundDestination.startDate, foundDestination.endDate)\n\n    return dates.map(d => {\n      return {\n            key: d,\n            text: d,\n            value: d,\n        };\n    })\n  }\n\n  handleChange = (value, key)=> {\n      this.setState ({\n        photo: {\n          ...this.state.photo,\n          [key]: value\n        }\n      })\n      return;\n  }\n\n  handleSubmit = (e) => {\n      e.preventDefault();\n      this.props.createPhotos(this.state.photo);\n      this.props.history.push(\"/articles\")\n      return;\n  }\n  \n  render() {\n    return (\n      <StyledWrapper>\n        <Form onSubmit={this.handleSubmit} autoComplete=\"off\">\n            {this.state.photo.src &&\n                this.state.photo.src.length > 0 &&\n                this.state.photo.src.map((e) => {\n                    return (\n                        <Image\n                            key={e.publicId}\n                            publicId={e.publicId}\n                            width=\"100\"\n                            cloudName={MY_CLOUD_NAME}\n                            format='jpg'\n                        />\n                    );\n                })}\n                <Form.Field>\n              <label>\n                People:\n                <Dropdown\n                    placeholder=\"People\"\n                    name=\"people\"\n                    multiple\n                    fluid\n                    selection\n                    options={this.formatPeople(this.state.people)}\n                    onChange={(e, { value }) =>\n                        this.handleChange(value, \"people\")\n                    }\n                />\n                </label>\n                <label>\n                  Destination:\n                  <Dropdown\n                      placeholder=\"Destination\"\n                      name=\"destination\"\n                      selection\n                      required\n                      fluid\n                      options={this.formatDestinations(this.state.destinations)}\n                      onChange={(e, { value }) =>\n                          this.handleChange(value, \"destination\")\n                      }\n                  />\n                </label>\n                {this.state.photo.destination && (\n                  <label>\n                    Date: \n                    <Dropdown\n                    placeholder=\"Date\"\n                    name=\"date\"\n                    selection\n                    fluid\n                    options={this.formatDates(this.state.destinations)}\n                    onChange={(e, { value }) =>\n                    this.handleChange(value, \"date\")\n                    }\n                    />\n                  </label>\n                )}\n\n                </Form.Field>\n                <Form.Field\n                    control={Input}\n                    label=\"Location\"\n                    name=\"location\"\n                    fluid\n                    value={this.state.photo.location}\n                    onChange={(e, { value }) =>\n                        this.handleChange(value, \"location\")\n                    }\n                />\n            <Form.Button>Submit</Form.Button>\n        </Form>\n      </StyledWrapper>\n    );\n  }\n}\n\nexport default withRouter(CreatePhoto);\n\nconst calculateDays = (start, end) => {\n  var dates = [];\n\n  var currDate = moment(start).startOf('day');\n  var lastDate = moment(end).startOf('day');\n  dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"))\n  \n\n  while (currDate.add(1, 'days').diff(lastDate) <= 1) {\n    dates.push(currDate.clone().utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).format(\"MM/DD/YYYY\"));\n  }\n\n  return dates;\n}","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\nexport const createDestinations = (destinations) => {\n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_DESTINATIONS + \"_PENDING\" });\n\n        let tripId = destinations.tripId;\n\n        if (!tripId) {\n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_DESTINATIONS + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n\n        return axios\n            .post(\"http://localhost:8000/api/destinations\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: { destinations, tripId }\n            })\n            .then((r) => {\n                if (r && r.data && r.data.destinations && r.data.destinations.length > 0) {\n                    dispatch({\n                        type: ActionTypes.CREATE_DESTINATIONS + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_DESTINATIONS + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n};\n\nexport const createTrip = payload => {\n    return (dispatch) => {\n        dispatch({ type: ActionTypes.CREATE_TRIP + \"_PENDING\" });\n        return axios\n            .post(\"http://localhost:8000/api/trips\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: payload\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.CREATE_TRIP + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const createPhotos = payload => {\n    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_PHOTO + \"_PENDING\" });\n\n        let tripId = payload.tripId;\n        \n        if (!tripId) {\n            \n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n        return axios\n            .post(\"http://localhost:8000/api/photos\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {...payload, tripId}\n            })\n            .then((r) => {\n                if (r && r.data) {\n                    dispatch({\n                        type: ActionTypes.CREATE_PHOTO + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const setCreateSticker = () => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.SET_CREATE_STICKER }\n        )\n    }\n}\n\nexport const createSticker = payload => {\n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.CREATE_STICKER + \"_PENDING\" });\n\n        let tripId = payload.tripId;\n        \n        if (!tripId) {     \n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n\n            if (!tripId) {\n                const err = 'trip is missing';\n    \n                dispatch({\n                    type: ActionTypes.CREATE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n        }\n\n        return axios\n            .post(\"http://localhost:8000/api/stickers\", {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: payload,\n            })\n            .then((r) => {\n                if (r && r.data) {\n                    dispatch({\n                        type: ActionTypes.CREATE_STICKER + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.CREATE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n","import { connect } from 'react-redux';\nimport CreatePhoto from './create-photo';\n\nimport { createPhotos } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    const destinations = state.destination && state.destination.destinations;\n\n    return {\n        people: (trip && trip.people) || [],\n        tripId: (trip && trip._id) || \"\",\n        destinations: destinations || [],\n        ...ownProps,\n    };\n};\n\n\nexport default connect(mapStateToProps, { createPhotos })(\n    CreatePhoto\n);","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from \"moment\";\n\nimport { Form, Button } from \"semantic-ui-react\";\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateDestinations = (props) => {\n    const [destinations, setDestinations] = useState([{\n        city: \"\",\n        startDate: \"\",\n        endDate: \"\"\n    }]);\n\n    const handleChange = (value, key, idx)=> {\n        let newDestinations = [...destinations];\n        let current = newDestinations[idx];\n        \n        current[key] = value;\n        \n        setDestinations(newDestinations);\n        return;\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        destinations.map(city=>{\n            const startDate = moment(city.startDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            city.startDate = startDate;\n\n            const endDate = moment(city.endDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n            city.endDate = endDate;\n\n            return city;\n        })\n        \n        return props.createDestinations(destinations);\n    }\n\n    const handleAddBtn = (e) => {\n        e.preventDefault();\n        setDestinations(destinations.concat({ city: \"\", dates: [] }));\n        return;\n    }\n\n    const handleSubtractBtn = (e) => {\n        e.preventDefault();\n        if (destinations.length <= 1) {\n            return;\n        }\n        let updatedDestinations = [...destinations];\n        updatedDestinations.pop();\n        setDestinations(updatedDestinations)\n        return;\n    }\n\n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    {\n                        destinations.map((d, idx) => {\n                            return <div key={`destination-${idx}`}>\n                                <Form.Field>\n                                    <label>\n                                        City:\n                                        <input\n                                            type=\"text\"\n                                            name=\"city\"\n                                            label=\"City\"\n                                            placeholder=\"Where does this take place?\"\n                                            value={d.city}\n                                            onChange={(e) => handleChange(e.target.value, \"city\", idx)}\n                                            required\n                                        />\n                                    </label>\n                                    <label>\n                                        Start Date:\n                                        <DatePicker\n                                            onChange={date => handleChange(date, \"startDate\", idx)}\n                                            selected={d.startDate}\n                                            minDate={props.minDate}\n                                            maxDate={props.maxDate}\n                                            startDate={props.minDate}\n                                        />\n                                    </label>\n                                    <label>\n                                        End Date:\n                                        <DatePicker\n                                            onChange={date => handleChange(date, \"endDate\", idx)}\n                                            selected={d.endDate}\n                                            minDate={props.minDate}\n                                            maxDate={props.maxDate}\n                                            startDate={d.startDate}\n                                        />\n                                    </label>\n                                </Form.Field>\n                            </div>\n                        })\n                    }\n                <Button onClick={handleAddBtn}>+</Button>\n                <Button onClick={handleSubtractBtn}>-</Button>\n                <Form.Button style={{ marginTop: '30px', width: '100%' }}>Submit</Form.Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateDestinations;\n","import { connect } from 'react-redux';\nimport CreateDestinations from './create-destinations';\n\nimport { createDestinations } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        ...ownProps\n    }\n);\n\n\nexport default connect(mapStateToProps, { createDestinations })(\n    CreateDestinations\n);","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Button, Form, Input, TextArea } from \"semantic-ui-react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport moment from \"moment\";\n\nimport CreateDestination from '../destination';\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateTrip = (props) => {\n    const [isTripFilledOut, setIsTripFilledOut] = useState(false);\n    const [people, setPeople] = useState([{\n        name: \"\",\n    }]);\n    const [startDate, setStartDate] = useState(new Date());\n    const [endDate, setEndDate] = useState(new Date());\n    const [form, setForm] = useState({\n        title: props.title,\n        content: props.content\n    });\n\n\n    const formValidation = () => {\n        if (form.startDate !== \"\" && form.endDate !== \"\" && form.title !== \"\") {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (!!formValidation()) {\n            const formattedStartDate = moment(startDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            const formatttedEndDate = moment(endDate).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 });\n            \n            props.createTrip({...form, people, startDate: formattedStartDate, endDate: formatttedEndDate});\n            setIsTripFilledOut(true)\n        };\n  \n    };\n\n    const updateField = e => {\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        });\n        return;\n    };\n\n    const handlePeopleChange = (name, idx) => {\n        let users = [...people];\n        users[idx].name = name;\n        setPeople(users);\n        return;\n    }\n\n    const handleAddPeople = (e) => {\n        e.preventDefault();\n        setPeople(people.concat({ name: \"\" }))\n    }\n\n    const handleSubtractPeople = (e) => {\n        e.preventDefault();\n        if (people.length <= 1) {\n            return;\n        }\n        let updatedPeople = [...people];\n        updatedPeople.pop();\n        setPeople(updatedPeople)\n        return;\n    }\n\n    if (isTripFilledOut) {\n        return <CreateDestination minDate={startDate} maxDate={endDate} />\n    }\n\n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    <Form.Field>\n                        <label>\n                            Title:\n                                <input\n                                type=\"text\"\n                                name=\"title\"\n                                placeholder=\"Title of the trip\"\n                                value={form.title}\n                                onChange={updateField}\n                                required\n                            />\n                        </label>\n                    </Form.Field>\n                <Form.Field>\n                    <label>\n                        Start Date:\n                        <DatePicker\n                            selected={startDate} \n                            onChange={date => {\n                                setStartDate(date)\n                                setEndDate(date)\n                            }}\n                            showMonthDropdown\n                            showYearDropdown\n                        />\n                    </label>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        End Date:\n                        <DatePicker\n                            selected={endDate} \n                            onChange={date => setEndDate(date)}\n                            showMonthDropdown\n                            showYearDropdown\n                        />\n                    </label>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        People:\n                        {\n                            people.map((p, idx)=> {\n                                return <Input\n                                    type=\"person\"\n                                    name=\"person\"\n                                    placeholder=\"person name goes here\"\n                                    value={p.name}\n                                    key={`person${idx}`}\n                                    onChange={(e) => handlePeopleChange(e.target.value, idx)}\n                                    required\n                                />\n                            })\n                        }\n                        \n                    </label>\n                    <Button onClick={handleAddPeople}>+</Button>\n                    <Button onClick={handleSubtractPeople}>-</Button>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        Content:\n                    <TextArea\n                            type=\"text-area\"\n                            name=\"content\"\n                            placeholder=\"Tell me more\"\n                            value={form.content}\n                            onChange={updateField}\n                            style={{ minHeight: 100 }}\n                        />\n                    </label>\n                </Form.Field>\n                <Button type=\"submit\" style={{width: '100%'}}>Submit</Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateTrip;\n","import { connect } from 'react-redux';\nimport CreateTrip from './create-trip';\n\nimport { createTrip } from 'redux/action/createActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        startDate: (state.create && state.create.startDate) || \"\",\n        endDate: (state.create && state.create.endDate) || \"\",\n        title: (state.create && state.create.title) || \"\",\n        content: (state.create && state.create.content) || \"\",\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { createTrip })(CreateTrip);","import React from \"react\";\n\nimport CreatePhoto from './photo';\nimport CreateTrip from \"./trip\";\n\nconst CreateArticle = ({ isDestinationsFetched, isTripFetched }) => {\n\n    if (isDestinationsFetched && isTripFetched) {\n        return <CreatePhoto />;\n    }\n\n    return <CreateTrip />;\n};\n\nexport default CreateArticle;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { Loader, Button, Icon } from \"semantic-ui-react\";\n\nconst CLIENT_ID = process.env.REACT_APP_OAUTH;\nconst ADMIN_EMAIL = process.env.REACT_APP_ADMIN_EMAIL;\n\nconst StyledWrapper = styled.div`\n    display: flex;\n    height: 100vh; \n\n    .ui.buttons {margin:auto}\n`;\n\nconst withAuth = (WrappedComponent) => {\n    class AuthorizedComponent extends React.Component {\n        state = { isSignedIn: null };\n\n        componentDidMount() {\n            window.gapi.load('client:auth2', ()=> {\n                window.gapi.client.init({\n                    clientId: CLIENT_ID,\n                    scope: 'email'\n                }).then(()=> {\n                    this.auth = window.gapi.auth2.getAuthInstance();\n                    this.onAuthChange();\n                    this.auth.isSignedIn.listen(this.onAuthChange);\n                })\n            })\n        }\n\n        onAuthChange = () => {\n            this.setState({ isSignedIn: this.auth.isSignedIn.get() })\n        }\n\n        onSignIn = () => {\n            this.auth.signIn();\n        }\n\n        renderSignInOrReturn = () => {\n            return <StyledWrapper>\n                <Button.Group>\n                    <Button icon negative labelPosition='left' onClick={this.onSignIn}>\n                        <Icon name='google' />\n                            Sign in with Google\n                        </Button>\n                    <Button.Or />\n                    <Button as={Link} to=\"/articles\" icon labelPosition='right'>\n                        Return to Articles\n                        <Icon name='right arrow' />\n                    </Button>\n                </Button.Group>\n            </StyledWrapper>\n        }\n\n        render() {\n            if ( this.state.isSignedIn === null ) {\n                return <Loader active inline=\"centered\" />;\n            } else if (this.state.isSignedIn) {\n                if ( this.auth.currentUser.get().getBasicProfile().getEmail() === ADMIN_EMAIL) {\n                    return <WrappedComponent {...this.props} />\n                } else {\n                   return this.renderSignInOrReturn();\n                }\n            } else {\n                return this.renderSignInOrReturn();\n            }\n        }\n    }\n\n\nreturn AuthorizedComponent\n}\n\nexport default withAuth\n","import { connect } from \"react-redux\";\nimport Create from \"./create\";\nimport withAuth from \"../hoc/withAuth\";\n\nconst mapStateToProps = (state) => ({\n    isTripFetched: state && !!state.trip && state.trip.fetched,\n    isDestinationsFetched: state && !!state.destination && state.destination.fetched\n});\n\nexport default withAuth(connect(mapStateToProps)(Create));","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\nimport { Button, Form, Input, TextArea } from \"semantic-ui-react\";\nimport DatePicker from \"react-datepicker\";\n\nconst StyledFormWrapper = styled.div`\n    .react-datepicker-wrapper {\n        display: block!important;\n    }\n`;\n\nconst CreateTrip = (props) => {\n    const [startDate, setStartDate] = useState(props.startDate);\n    const [endDate, setEndDate] = useState(props.endDate);\n    const [people, setPeople] = useState([]);\n    const [destinations, setDestinations] = useState([]);\n    const [form, setForm] = useState({\n        title: props.title,\n        content: props.content,\n    });\n    const [updatedForm, setUpdatedForm] = useState({\n        tripId: props.tripId\n    })\n\n    useEffect(() => {\n        if (!!props.destinations && props.destinations.length > 0) {\n            props.destinations.map(d=> {\n                return setDestinations(destinations => destinations.concat({_id: d._id, city: d.city, startDate: d.startDate, endDate: d.endDate}))\n            })\n        }\n        if (!!props.people && props.people.length > 0) {\n            props.people.map(d => setPeople(people=>people.concat({name: d.name})))\n        }\n        \n        return \n    }, [setPeople, setDestinations, props]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const params =  {\n            ...updatedForm\n        }\n\n        if (moment(startDate).diff(moment(props.startDate), 'days') !== 0) {\n            params.startDate = moment(startDate).utcOffset(0);\n        }\n        \n        if (moment(endDate).diff(moment(props.endDate), 'days') !== 0) {\n            params.endDate = moment(endDate).utcOffset(0);\n        }\n        props.updateTrip(params);\n    };\n\n    const updateField = e => {\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        });\n        setUpdatedForm({\n            ...updatedForm,\n            [e.target.name]: e.target.value\n        });\n        return;\n    };\n\n    const handlePeopleChange = (name, idx) => {\n        let users = [...people];\n        users[idx].name = name;\n        setPeople(users);\n        setUpdatedForm({\n            ...updatedForm,\n            people: users\n        });\n        return;\n    }\n\n    const handleChange = (value, key, idx) => {\n        let newDestinations = [...destinations];\n        let current = newDestinations[idx];\n        \n        if (key === 'startDate' || key === 'endDate') {\n            value = moment(value).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n        }\n\n        current[key] = value;\n\n        setDestinations(newDestinations);\n        setUpdatedForm({\n            ...updatedForm,\n            destinations: newDestinations\n        });\n        return;\n    }\n\n    const handleAdd = (e, field) => {\n        e.preventDefault();\n        if (field === 'people') {\n            setPeople(people.concat({ name: \"\" }))\n        } else if (field === 'destinations') {\n            setDestinations(destinations.concat({city: \"\", startDate: startDate, endDate: endDate }))\n        }\n        return;\n    }\n\n    const handleSubtract = (e, field) => {\n        e.preventDefault();\n        if (field === 'people') {\n            if (people.length <= 1) {\n                return;\n            }\n            let updatedPeople = [...people];\n            updatedPeople.pop();\n            setPeople(updatedPeople)\n            setUpdatedForm({\n                ...updatedForm,\n                people: updatedPeople\n            });\n        } else if (field === 'destinations') {\n            if (destinations.length <= 1) {\n                return;\n            }\n            let updatedDestinations = [...destinations];\n            updatedDestinations.pop();\n            setDestinations(updatedDestinations)\n            setUpdatedForm({\n                ...updatedForm,\n                destinations: updatedDestinations\n            });\n        }\n        return;\n    }\n    \n    return (\n        <StyledFormWrapper>\n            <Form onSubmit={handleSubmit} autoComplete=\"off\">\n                    <Form.Field>\n                        <label>\n                            Title:\n                                <input\n                                type=\"text\"\n                                name=\"title\"\n                                placeholder=\"Title of the trip\"\n                                value={form.title}\n                                onChange={updateField}\n                                required\n                            />\n                        </label>\n                    </Form.Field>\n                    {!!startDate && <Form.Field>\n                        <label>\n                            Start Date:\n                            <DatePicker\n                                selected={moment(startDate).toDate()}\n                                onChange={date => setStartDate(moment(date).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }))}\n                                showMonthDropdown\n                                showYearDropdown\n                                startDate={moment(startDate).toDate()}\n                            />\n                        </label>\n                    </Form.Field> }\n                {!!endDate && <Form.Field>\n                    <label>\n                        End Date:\n                        <DatePicker\n                            selected={moment(endDate).toDate()}\n                            onChange={date => setEndDate(moment(date).utcOffset(0).set({ hour: 0, minute: 0, second: 0, millisecond: 0 }))}\n                            showMonthDropdown\n                            showYearDropdown\n                            startDate={moment(endDate).toDate()}\n                        />\n                    </label>\n                </Form.Field>}\n                \n                <Form.Field>\n                    <label>\n                        People:\n                        {   people.length > 0 && \n                            people.map((p, idx)=> {\n                                return <Input\n                                    type=\"person\"\n                                    name=\"person\"\n                                    placeholder=\"person name goes here\"\n                                    value={p.name}\n                                    key={`person${idx}`}\n                                    onChange={(e) => handlePeopleChange(e.target.value, idx)}\n                                    required\n                                />\n                            })\n                        }\n                        \n                    </label>\n                    <Button onClick={e => handleAdd(e, 'people')}>+</Button>\n                    <Button onClick={e => handleSubtract(e, 'people')}>-</Button>\n                </Form.Field>\n                <Form.Field>\n                    <label>\n                        Content:\n                    <TextArea\n                            type=\"text-area\"\n                            name=\"content\"\n                            placeholder=\"Tell me more\"\n                            value={form.content}\n                            onChange={updateField}\n                            style={{ minHeight: 100 }}\n                        />\n                    </label>\n                </Form.Field>\n                {\n                    destinations.map((d, idx) => {\n                        return <div key={`destination-${idx}`}>\n                            <Form.Field>\n                                <label>\n                                    City:\n                                        <input\n                                        type=\"text\"\n                                        name=\"city\"\n                                        label=\"City\"\n                                        placeholder=\"Where does this take place?\"\n                                        value={d.city}\n                                        onChange={(e) => handleChange(e.target.value, \"city\", idx)}\n                                        required\n                                    />\n                                </label>\n                                \n                                <label>\n                                    Start Date:\n                                    <DatePicker\n                                        selected={d.startDate ? moment(d.startDate).toDate() : null}\n                                        onChange={date => handleChange(date, \"startDate\", idx)}\n                                    />\n                                </label>\n                                <label>\n                                    End Date:\n                                    <DatePicker\n                                        selected={d.endDate ? moment(d.endDate).toDate() : null}\n                                        onChange={date => handleChange(date, \"endDate\", idx)}\n                                    />\n                                </label>\n                            </Form.Field>\n                        </div>\n                    })\n                }\n                <Button onClick={e => handleAdd(e, 'destinations')}>+</Button>\n                <Button onClick={e => handleSubtract(e, 'destinations')}>-</Button>\n\n                <Button type=\"submit\" style={{width: '100%', marginTop: '30px'}}>Submit</Button>\n            </Form>\n        </StyledFormWrapper>\n    );\n};\n\nexport default CreateTrip;\n","import { connect } from 'react-redux';\nimport Trip from './trip'\n\nimport { updateTrip } from 'redux/action/updateActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        startDate: (trip && trip.startDate) || \"\",\n        endDate: (trip && trip.endDate) || \"\",\n        title: (trip && trip.title) || \"\",\n        content: (trip && trip.content) || \"\",\n        people: (trip && trip.people) || [],\n        destinations: (trip && trip.destinations) || [],\n        ...ownProps\n    }\n};\n\nexport default connect(mapStateToProps, { updateTrip})(Trip);","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\nexport const updateProp = (payload) => {\n    return (dispatch) => {\n        dispatch(\n            { type: ActionTypes.UPDATE_PROP, payload }\n        )\n    }\n}\n\nexport const updateTrip = payload => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.UPDATE_TRIP + \"_PENDING\" });\n\n        let tripId = payload.tripId\n        if (!tripId) {\n            const state = getState();\n            tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.UPDATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n\n        return axios\n            .patch(`http://localhost:8000/api/trips/${tripId}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {...payload}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.UPDATE_TRIP + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.UPDATE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}","import { connect } from 'react-redux';\nimport CreatePhoto from '../../create/photo/create-photo';\n\nimport { createPhotos } from \"redux/action/createActions\";\n\nconst mapStateToProps = (state, ownProps) => {\n  const trip = state.trip && state.trip.trip;\n\n  return {\n    people: (trip && trip.people) || [],\n    destinations: (trip && trip.destinations) || [],\n    tripId: (trip && trip._id) || \"\",\n    ...ownProps\n  }\n};\n\n\nexport default connect(mapStateToProps, { createPhotos })(CreatePhoto);","import React, {useState} from 'react';\n\nimport styled from \"styled-components\";\nimport { Button, Modal, Loader } from 'semantic-ui-react';\nimport { Image } from \"cloudinary-react\";\n\nimport CreatePhoto from \"./create-photo\";\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n`;\n  \nconst PhotosContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n`;\n      \nconst StyledSemanticLabel = styled.label`\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n`;\n    \nconst StyledButton = styled(Button)`\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n`;\n\n\nconst PhotosList = props => {\n  const [creating, changeCreating] = useState(false);\n\n  if (props.updated) {\n    return window.location.reload();\n  }\n\n  if (props.updating && !props.updated) {\n    return < Loader />\n  }\n\n    return(\n     <StyledWrapper>\n       <PhotosContainer>\n        <StyledSemanticLabel>Images: </StyledSemanticLabel>\n          {props.photos.map((p, idx) => {\n            return (\n              <Modal key={p._id + idx} trigger={< Image format=\"jpg\" width=\"100\" height=\"100\" crop=\"fill\" cloudName={MY_CLOUD_NAME} publicId={p.publicId} alt={p.city + p.date} />} closeIcon>\n                <Modal.Content image>\n                  <Image\n                    key={p.publicId}\n                    publicId={p.publicId}\n                    width=\"300\"\n                    cloudName={MY_CLOUD_NAME}\n                    format='jpg'\n                  />\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button\n                      negative\n                      icon='trash'\n                      labelPosition='right'\n                      content='Delete'\n                      onClick={()=>{\n                        props.deletePhoto(p._id, props.tripId)\n                      }}\n                    />\n                </Modal.Actions>\n              </Modal>\n            )\n            })}\n          <StyledButton onClick={()=>changeCreating(true)}>+</StyledButton>   \n       </PhotosContainer>\n        {creating && <CreatePhoto />}\n    </StyledWrapper>\n    )\n}    \n\n\nexport default PhotosList;\n","import { connect } from 'react-redux';\nimport PhotosList from './photos-list';\n\nimport { deletePhoto } from 'redux/action/deleteActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n\n    return {\n        photos: (trip && trip.photos) || [],\n        tripId: (trip && trip._id) || \"\",\n        updating: (state.photo && state.photo.updating) || false,\n        updated: (state.photo && state.photo.updated) || false,\n        ...ownProps\n    }\n};\n\n\nexport default connect(mapStateToProps, { deletePhoto })(\n    PhotosList\n);","import { ActionTypes } from '../../utils/constants';\nimport axios from \"axios\";\n\nexport const deleteTrip = id => {    \n    return (dispatch) => {\n        dispatch({ type: ActionTypes.DELETE_TRIP + \"_PENDING\" });\n\n        return axios\n            .delete(`http://localhost:8000/api/trips/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n            })\n            .then((r) => {\n                if (r && r.status === 200) {\n                    dispatch({\n                        type: ActionTypes.DELETE_TRIP + \"_FULFILLED\",\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_TRIP + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const deletePhoto = (id, tripId) => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.DELETE_PHOTO + \"_PENDING\" });\n\n        if (!tripId) {\n            const state = getState();\n            let tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.DELETE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n        \n        return axios\n            .delete(`http://localhost:8000/api/photos/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {tripId: tripId}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.DELETE_PHOTO + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_PHOTO + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}\n\nexport const deleteSticker = (id, tripId) => {    \n    return (dispatch, getState) => {\n        dispatch({ type: ActionTypes.DELETE_STICKER + \"_PENDING\" });\n\n        if (!tripId) {\n            const state = getState();\n            let tripId = state && state.trip && state.trip.trip._id;\n            \n            if (!tripId) {\n                const err = 'trip is missing';\n                \n                dispatch({\n                    type: ActionTypes.DELETE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            }\n\n        }\n        \n        return axios\n            .delete(`http://localhost:8000/api/stickers/${id}`, {\n                headers: {\n                    // Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n                    \"Content-Type\": \"application/json\",\n                    accept: \"application/json\"\n                },\n                data: {tripId: tripId}\n            })\n            .then((r) => {\n                if (r && r.data && r.data.trip) {\n                    dispatch({\n                        type: ActionTypes.DELETE_STICKER + \"_FULFILLED\",\n                        payload: r.data,\n                    });\n                }\n            })\n            .catch((err) => {\n                dispatch({\n                    type: ActionTypes.DELETE_STICKER + \"_REJECTED\",\n                    payload: err,\n                });\n            });\n    };\n}","import React from 'react'\nimport { withRouter } from 'react-router-dom';\n\nimport { Image } from \"cloudinary-react\";\nimport { Form, Checkbox } from \"semantic-ui-react\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\nconst UPLOAD_PRESET = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET;\n\nclass CreateSticker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      photo: [],\n      isSmall: true,\n    };\n  }\n\n  componentDidMount() {\n    const tag = this.props.tripId ? [this.props.tripId] : [];\n\n    window.cloudinary.createUploadWidget(\n      {\n        cloudName: MY_CLOUD_NAME,\n        uploadPreset: UPLOAD_PRESET,\n        folder: \"trips\",\n        tags: tag\n      },\n      (error, result) => {\n        if (result && result.event === \"success\") {\n          const newPhoto = {\n            url: result.info.url,\n            publicId: result.info.public_id,\n          }\n          this.setState({\n            photo: [...this.state.photo, newPhoto]\n          });\n\n        }\n      }\n    ).open()\n  }\n\n\n  handleSubmit = (e) => {\n      e.preventDefault();\n      this.state.photo.forEach(p=>{\n        return p.size = this.state.isSmall ? 'small' : 'large';\n      })\n\n      this.props.createSticker({ photos: this.state.photo, tripId: this.props.tripId });\n      return;\n  }\n\n  \n  render() {\n    return (\n        <Form onSubmit={this.handleSubmit}>\n            {this.state.photo &&\n                this.state.photo.length > 0 &&\n                this.state.photo.map((e) => {\n                    return (\n                        <Image\n                            key={e.publicId}\n                            publicId={e.publicId}\n                            width=\"100\"\n                            height=\"100\"\n                            cloudName={MY_CLOUD_NAME}\n                        />\n                    );\n                })}\n          <Checkbox checked={this.state.isSmall}\n            onChange={()=>this.setState({isSmall :!this.state.isSmall })} label=\"picture is small\"/>\n          <Form.Button>Submit</Form.Button>\n        </Form>\n    );\n  }\n}\n\nexport default withRouter(CreateSticker);","import { connect } from 'react-redux';\nimport CreateSticker from './create-sticker';\n\nimport { createSticker } from 'redux/action/createActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        tripId: (trip && trip._id) || \"\",\n        photos: (trip && trip.stickers) || [],\n        isCreating: state.stickers && !!state.stickers.isCreating,\n        ...ownProps\n    }\n};\n\nexport default connect(mapStateToProps, { createSticker })(\n    CreateSticker\n);","import React from 'react';\n\nimport styled from \"styled-components\";\nimport { Button, Modal, Loader } from 'semantic-ui-react';\nimport { Image } from \"cloudinary-react\";\n\nimport CreateSticker from \"./create-sticker\";\n\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n  min-height: 100vh;  \n`;\n  \nconst PhotosContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;    \n`;\n      \nconst StyledSemanticLabel = styled.label`\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n  width: 100%;\n`;\n    \nconst StyledButton = styled(Button)`\n  &.ui.button {\n    height: 100px;\n    width: 100px;\n    margin: 0;\n    border-radius: 0;\n  }\n`;\n\nconst PhotosList = props => {\n\n  if (props.updated) {\n    return window.location.reload();\n  }\n\n  if (props.updating && !props.updated) {\n    return < Loader />\n  }\n\n    return(\n     <StyledWrapper>\n       <PhotosContainer>\n        <StyledSemanticLabel>Stickers: </StyledSemanticLabel>\n          {props.photos.map((p, idx) => {\n            return <Modal trigger={< Image format=\"jpg\" width=\"100\" height=\"100\" crop=\"fill\" cloudName={MY_CLOUD_NAME} key={p._id + idx} publicId={p.publicId} alt={p.city + p.date} />} closeIcon>\n                  <Modal.Content image>\n                    <Image\n                      key={p.publicId}\n                      publicId={p.publicId}\n                      width=\"300\"\n                      cloudName={MY_CLOUD_NAME}\n                      format='jpg'\n                    />\n                  </Modal.Content>\n                  <Modal.Actions>\n                    <Button\n                      negative\n                      icon='trash'\n                      labelPosition='right'\n                      content='Delete'\n                      onClick={() => {\n                        props.deleteSticker(p._id, props.tripId)\n                      }}\n                    />\n                  </Modal.Actions>\n                </Modal>\n            }\n            )}\n          <StyledButton onClick={() => props.setCreateSticker()}>+</StyledButton>   \n       </PhotosContainer>\n       {props.isCreating && <CreateSticker />}\n    </StyledWrapper>\n    )\n}    \n\n\nexport default PhotosList;\n","import { connect } from 'react-redux';\nimport PhotosList from './photos-list';\n\nimport { setCreateSticker } from 'redux/action/createActions';\nimport { deleteSticker } from 'redux/action/deleteActions';\n\nconst mapStateToProps = (state, ownProps) => {\n    const trip = state.trip && state.trip.trip;\n    return {\n        photos: (trip && trip.stickers) || [],\n        tripId: (trip && trip._id) || \"\",\n        isCreating: state.stickers && !!state.stickers.isCreating,\n        updating: (state.stickers && state.stickers.updating) || false,\n        updated: (state.stickers && state.stickers.updated) || false,\n        ...ownProps\n    }\n};\n\nconst actions = {\n    deleteSticker,\n    setCreateSticker,\n}\n\nexport default connect(mapStateToProps, actions)(\n    PhotosList\n);","import React, {useState} from \"react\";\nimport {\n    withRouter\n} from 'react-router-dom'\nimport styled from \"styled-components\";\nimport { Button, Modal } from \"semantic-ui-react\";\n\n\nconst StyledWrapper = styled.div`\n  max-width: 300px;\n  margin: 50px auto;\n\n  button {width: 100%}\n`;\n\n\nconst DeleteTrip = (props) => {\n    const [open, changeOpen] = useState(false);\n\n    const handleDelete = (e) => {\n        e.preventDefault();\n        props.deleteTrip(props.tripId);\n        props.history.push('/articles')\n    }\n\n    return (<StyledWrapper>\n        <Modal open={open} trigger={<Button onClick={()=>changeOpen(true)}>Delete Trip</Button>}>\n            <Modal.Header>Delete This Trip</Modal.Header>\n            <Modal.Content>\n                <p>Are you sure you want to delete this trip?</p>\n            </Modal.Content>\n            <Modal.Actions>\n                <Button onClick={() => changeOpen(false)} >Close</Button>\n                <Button\n                    negative\n                    icon='trash'\n                    labelPosition='right'\n                    content='Delete'\n                    onClick={e=>handleDelete(e)}\n                />\n            </Modal.Actions>\n        </Modal>\n    </StyledWrapper>\n)}\n\nexport default withRouter(DeleteTrip);\n","import { connect } from 'react-redux';\nimport DeleteTrip from './delete-trip';\n\nimport { deleteTrip } from 'redux/action/deleteActions';\n\nconst mapStateToProps = (state, ownProps) => ({\n    redirect: state && state.trip && !!state.trip.deleted,\n    ...ownProps\n});\n\nexport default connect(mapStateToProps, { deleteTrip })(\n    DeleteTrip\n);","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router\";\n\nimport { Loader, Segment } from 'semantic-ui-react';\nimport styled from \"styled-components\";\n\nimport UpdateTrip from \"./trip\";\nimport UpdatePhoto from \"./photo\";\nimport Articles from '../articles';\nimport UpdateStickers from './stickers';\nimport DeleteTripBtn from './delete-trip';\n\nconst StyledFormWrapper = styled.div`\n    max-width: 300px;\n    margin: auto;\n    align-items: center;\n\n    .ui.form{\n        width: 100%;\n    }\n`;\n\nconst EditArticle = (props) => {\n    let { tripId } = useParams();\n    const { fetchArticle, updateProp } = props;\n\n    useEffect(() => {\n        if (!!tripId) {\n            fetchArticle(tripId);\n            updateProp({_id: tripId});\n        }\n    }, [tripId, fetchArticle, updateProp]);\n\n    if ( props.fetched && !props.trip.trip._id ) {\n        return <Articles />\n    }\n\n    if (props.fetching) {\n        return (\n            <Segment>\n                <Loader active />\n            </Segment>\n        )\n    }\n\n    return(\n        <StyledFormWrapper>\n            <UpdateTrip tripId={tripId}/>\n            <UpdatePhoto />\n            <UpdateStickers />\n            <DeleteTripBtn tripId={tripId}/>\n        </StyledFormWrapper>\n    )\n};\n\nexport default EditArticle;\n","import { connect } from \"react-redux\";\nimport Edit from \"./edit\";\nimport withAuth from \"../hoc/withAuth\";\n\nimport { fetchArticle } from 'redux/action/fetchActions';\nimport { updateProp } from 'redux/action/updateActions';\n\nconst mapStateToProps = (state) => ({\n    trip: state.trip,\n    fetching: state.trip.fetching,\n    fetched: state.trip.fetched,\n});\n\nconst dispatchAction  = {\n    fetchArticle,\n    updateProp\n}\n\n\nexport default withAuth(connect(mapStateToProps, dispatchAction)(Edit));","import React from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst Container = styled.div`\n    cursor: move;\n    width: ${(props) => props.width || 200}px;\n    transform: translate(\n        ${(props) => props.x || 0}px,\n        ${(props) => props.y || 0}px\n    );\n    transition: transform 0.3s ease-in-out;\n    background-image: url(${(props) => props.img});\n    padding-top: ${(props) => props.height || 40}%;\n    background-position: center top;\n    background-size: contain;\n    background-repeat: no-repeat;\n    position: absolute;\n\n    ${({ isDragging }) =>\n        isDragging &&\n        css`\n            opacity: 0.8;\n            cursor: grabbing;\n        `};\n`;\n\nexport default class Sticker extends React.Component {\n    state = {\n        isDragging: false,\n\n        originalX: 0,\n        originalY: 0,\n\n        translateX: 0,\n        translateY: 0,\n\n        lastTranslateX: 0,\n        lastTranslateY: 0,\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener(\"mousemove\", this.handleMouseMove);\n        window.removeEventListener(\"mouseup\", this.handleMouseUp);\n    }\n\n    handleMouseDown = ({ clientX, clientY }) => {\n        window.addEventListener(\"mousemove\", this.handleMouseMove);\n        window.addEventListener(\"mouseup\", this.handleMouseUp);\n\n        if (this.props.onDragStart) {\n            this.props.onDragStart();\n        }\n\n        this.setState({\n            originalX: clientX,\n            originalY: clientY,\n            isDragging: true,\n        });\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        const { onDrag } = this.props;\n\n        if (!isDragging) {\n            return;\n        }\n\n        this.setState(\n            (prevState) => ({\n                translateX:\n                    clientX - prevState.originalX + prevState.lastTranslateX,\n                translateY:\n                    clientY - prevState.originalY + prevState.lastTranslateY,\n            }),\n            () => {\n                if (onDrag) {\n                    onDrag({\n                        translateX: this.state.translateX,\n                        translateY: this.state.translateY,\n                    });\n                }\n            }\n        );\n    };\n\n    handleMouseUp = () => {\n        window.removeEventListener(\"mousemove\", this.handleMouseMove);\n        window.removeEventListener(\"mouseup\", this.handleMouseUp);\n\n        this.setState(\n            {\n                originalX: 0,\n                originalY: 0,\n                lastTranslateX: this.state.translateX,\n                lastTranslateY: this.state.translateY,\n\n                isDragging: false,\n            },\n            () => {\n                if (this.props.onDragEnd) {\n                    this.props.onDragEnd();\n                }\n            }\n        );\n    };\n\n    render() {\n        const { children, x, y, width, height } = this.props;\n        const { translateX, translateY, isDragging } = this.state;\n\n        return (\n            <Container\n                onMouseDown={this.handleMouseDown}\n                x={translateX}\n                y={translateY}\n                isDragging={isDragging}\n                img={this.props.img}\n                style={{left: x, top: y}}\n                width={width}\n                height={height}\n            >\n                {children}\n                </Container>\n        );\n    }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\n\nimport Sticker from '../sticker';\n\nconst TitleWrapper = styled.div`\n    height: calc(100vh - 20px);\n    // background-color: #f2eade;\n    position: relative;\n    margin: 10px;\n    overflow: hidden;\n    \n    .title-container {\n        position: absolute;\n        margin: auto;\n        // background-color: #f2eade;\n        width: 300px;\n        border: 1px solid;\n        margin: 10px;\n        bottom: 10%;\n        right: 0%;\n        padding: 30px;\n        z-index: 3;\n        text-align: center;\n    }\n`;\n\nconst StickerContainer = styled.div`\n    position: relative;\n    overflow: hidden;\n    height: 100vh;\n`;\n\nexport default class Title extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dimensions: null,\n            stickers: props.trip.stickers || [],\n            title: props.trip.title || \"\",\n            startDate: props.trip.startDate || \"\",\n            endDate: props.trip.endDate || \"\",\n            people: props.trip.people || []\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            dimensions: {\n                width: this.container.offsetWidth,\n                height: this.container.offsetHeight,\n            },\n        });\n    }\n    renderStickers(){\n        return this.state.dimensions && this.state.stickers.map(s=> {\n            return <Sticker\n                key={s._id}\n                img={s.url}\n                x={Math.floor(Math.random() * (this.state.dimensions.width - 300))}\n                y={Math.floor(Math.random() * (this.state.dimensions.height - 300))}\n                width={s.size && s.size === 'large' ? 300 : 150}\n                height={50}\n            />\n        })\n    }\n\n    renderPeople = people => {\n        if (people.length === 1) {\n            return <div>{people[0].name}</div>\n        } \n        const peopleNames = people.map(e => e.name)\n        return <div> {peopleNames.join(\", \")}</div>\n    }\n\n    render(){\n        const {title, startDate, endDate, people} = this.state;\n        return (\n            <TitleWrapper>\n                <div className=\"title-container\">\n                    <h2>{title}</h2>\n                    {(!!startDate && !!endDate) \n                        ? <span style={{textTransform: 'capitalize'}}>\n                            {moment(startDate).format(\"MMM DD, YYYY\") + \" - \" + \n                            moment(endDate).format(\"MMM DD, YYYY\")}\n                            </span> \n                        : null\n                    }\n                    { people && people.length > 0 && this.renderPeople(people)}\n                    \n                </div>\n                <StickerContainer\n                    ref={(el) => {\n                        this.container = el;\n                    }}\n                >\n                    {this.renderStickers()}\n                </StickerContainer>\n            </TitleWrapper>\n        );\n    }\n};","import { connect } from 'react-redux';\nimport Title from './title';\n\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: (state.trip && state.trip.trip) || {},\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps)(Title);","import React, { useState, useEffect, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport moment from \"moment\"\nimport { Image, Transformation } from \"cloudinary-react\";\nconst MY_CLOUD_NAME = process.env.REACT_APP_MY_CLOUD_NAME;\n\nconst PictureContainerWrapper = styled.div`\n    display: flex;\n    height: calc(100vh - 20px);\n    padding: 10px;\n    overflow: hidden;\n    position: relative;\n    background-color: white;\n`;\nconst PictureFullBleed = styled.div`\n    width: 50vw;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    margin: 10px;\n\n    @media screen and (max-width: 400px) {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        margin: 0;\n        background-color: white;\n        padding: 10px;\n        z-index: -1;\n\n        &.active{\n            z-index: 3;\n        }\n    }\n`;\nconst PostContentContainer = styled.div`\n    width: 50vw;\n    margin: 10px;\n    overflow: hidden;\n    position: relative;\n\n    @media screen and (max-width: 400px) {\n        width: 100%;\n        height: 100%;\n        background-color: white;\n        margin: 0;\n    }\n`;\nconst PicturesContainer = styled.div`\n    img {\n        margin: 10px;\n        cursor: pointer;\n    }\n\n    @media screen and (max-width: 400px) {\n        margin: auto -10px;\n        align-items: flex-start;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        height: auto;\n\n       img {\n           margin: 5px;\n       }\n    }\n`;\n\nconst PictureDescription = styled.div`\n    bottom: 0;\n    position: absolute;\n`;\n\nconst TripDescription = styled.div`\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    height: 20px;\n    background-color: white;\n    transition: all 0.5s;\n    cursor:pointer;\n    white-space: pre-line;\n    \n    &.active {\n        height: auto;\n    }\n    &.not-active {\n        height: 20px;\n    }\n`;\n\nconst AdditionalContent = styled.div`\n    font-size: 14px;\n    padding: 10px;\n    border-top: 1px solid;\n    height: 100%;\n`;\n\n\nconst PictureContainer = ({trip}) => {\n    const [expandText, setExpandText] = useState(false);\n    const [currentPicture, setCurrentPicture] = useState({});\n    const [showImage, setShowImage] = useState(false);\n\n    useEffect(() => {\n        if (!!trip.photos) {\n            setCurrentPicture(trip.photos[0])\n        }\n\n    }, [setCurrentPicture, trip.photos])\n    \n\n    const renderDescription = () => {\n        const desc = [];\n\n        if (!!currentPicture.date) {\n            desc.push(<span>{moment(currentPicture.date).format('\\'YY/MM/DD')}</span>)\n        } \n        \n        if (!!currentPicture.location) {\n            desc.push(<span> <a target=\"_blank\" rel=\"noopener noreferrer\" href={currentPicture.location}>location</a> </span>)\n        }\n\n        if (!!currentPicture.city) {\n            desc.push(<span> {currentPicture.city} </span>)\n        }\n\n        return (\n            <PictureDescription>\n                {desc.map((e, idx)=> <Fragment key={idx}>{e}</Fragment>)}\n            </PictureDescription>\n        )\n    }\n\n    if (!trip.photos || trip.photos.length < 1) {\n        return null;\n    } \n\n    const handleClick=(picture)=> {\n        setCurrentPicture(picture);\n        setShowImage(true);\n    }\n\n    \n    return <PictureContainerWrapper>\n        <PictureFullBleed className={showImage && \"active\"} onClick={()=>setShowImage(false)}\n            style={{\n                backgroundImage: `url(http://res.cloudinary.com/${MY_CLOUD_NAME}/image/upload/v1/${currentPicture.publicId}.jpg)`\n            }}\n        >\n        {renderDescription()}\n        </PictureFullBleed>\n        <hr style={{margin: 0}} />\n        <PostContentContainer>\n            <PicturesContainer>\n                {trip.photos.map((p, idx)=> {\n                    return (\n                        <Image format=\"jpg\" crop=\"fit\" key={p._id + idx} onClick={() => handleClick(p)} publicId={p.publicId} alt={p.city + p.date} cloudName={MY_CLOUD_NAME}><Transformation width=\"100\" height=\"100\" crop=\"fill\" /></Image>\n                    )\n                })}\n            </PicturesContainer>\n            <TripDescription onClick={() => setExpandText(!expandText)} className={expandText ? 'active' : 'not-active'}>\n                {expandText ? 'Less' : 'More'}\n                {!!trip.content && trip.content\n                    ? <AdditionalContent> {trip.content}\n                    </AdditionalContent>\n                    : null\n                }\n            </TripDescription>\n        </PostContentContainer>\n    </PictureContainerWrapper>\n};\n\nexport default PictureContainer;\n","import { connect } from 'react-redux';\nimport PictureContainer from './picture-container';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: (state.trip && state.trip.trip) || {},\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps)(PictureContainer);","import React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Loader, Segment } from 'semantic-ui-react';\n\nimport ArticleTitle from './article-title';\nimport ArticlePictures from './article-pictures';\n\nconst ShowArticle = (props) => {\n    let { tripId } = useParams();\n    const { fetchArticle } = props;\n\n    useEffect(() => {\n        if (!!tripId) {\n            fetchArticle(tripId);\n        }\n    }, [tripId, fetchArticle]);\n\n    if (props.fetching) {\n        return (\n            <Segment>\n                <Loader active />\n            </Segment>\n        )\n    }\n\n\n    return !!props.trip \n        ? <div>\n            <ArticleTitle  />\n            <ArticlePictures  />\n        </div>\n        : <div>nothing in single article</div>\n};\n\nexport default ShowArticle;\n","import { connect } from 'react-redux';\nimport ShowArticle from './show-article';\n\nimport { fetchArticle } from 'redux/action/fetchActions';\n\nconst mapStateToProps = (state, ownProps) => (\n    {\n        trip: state.trip,\n        fetching: state.trip.fetching,\n        fetched: state.trip.fetched,\n        ...ownProps\n    }\n);\n\nexport default connect(mapStateToProps, { fetchArticle })(ShowArticle);","import React from 'react';\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'; \n\nimport Articles from './components/articles';\nimport Create from './components/create';\nimport Edit from './components/edit';\nimport Article from './components/show-article';\n\nconst App =()=> {\n    return (\n        <>\n            {/* <NavBar /> */}\n            <Switch>\n                <Route exact path=\"/\" render={() => <Redirect to=\"/articles\" />}/>\n                <Route path=\"/articles/:tripId\" component={Article}/>\n                <Route path=\"/articles\" component={Articles}/>\n                <Route path=\"/create\" component={Create}/>\n                <Route path=\"/edit/:tripId\" component={Edit}/>\n                <Route path=\"/edit\" component={(props)=> <Articles toEdit={true} {...props}/>} />\n            </Switch>\n        </>\n    )\n}\n\nexport default withRouter(App);","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function articlesReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.FETCH_ARTICLES + '_PENDING': {\n            return {\n                fetching: true\n            };\n        }\n        case ActionTypes.FETCH_ARTICLES + '_REJECTED': {\n            const error = action.payload.error;\n\n            return {\n                fetching: false,\n                fetched: true,\n                error\n            };\n        }\n        case ActionTypes.FETCH_ARTICLES + '_FULFILLED': {\n            const articles = action.payload;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                articles\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function destinationReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_DESTINATIONS + '_PENDING': {\n            return {\n                ...state,\n                fetching: true,\n            };\n        }\n        case ActionTypes.CREATE_DESTINATIONS + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                fetching: false,\n                fetched: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_DESTINATIONS + '_FULFILLED': {\n            const destinations = action.payload.destinations;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                destinations\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n};\n\nexport default function tripReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_TRIP + '_PENDING': \n        case ActionTypes.DELETE_TRIP + '_PENDING': \n        case ActionTypes.UPDATE_TRIP + '_PENDING': {\n            return {\n                ...state,\n                fetching: true,\n            };\n        }\n        case ActionTypes.CREATE_TRIP + '_REJECTED': \n        case ActionTypes.UPDATE_TRIP + '_REJECTED': \n        case ActionTypes.DELETE_TRIP + '_REJECTED': \n        case ActionTypes.CREATE_DESTINATIONS + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                fetching: false,\n                fetched: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_TRIP + '_FULFILLED': \n        case ActionTypes.UPDATE_TRIP + '_FULFILLED': \n        case ActionTypes.CREATE_DESTINATIONS + '_FULFILLED': {\n            const trip = action.payload.trip;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                trip\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_PENDING': {\n            return {\n                fetching: true\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_REJECTED': {\n            const error = action.payload.error;\n\n            return {\n                fetching: false,\n                fetched: true,\n                error\n            };\n        }\n        case ActionTypes.FETCH_TRIP + '_FULFILLED': {\n            const trip = action.payload;\n\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                trip\n            };\n        }\n        case ActionTypes.UPDATE_PROP: {\n            const newTrip = {\n                ...action.payload,\n                ...state.newTrip\n            }\n            return {\n                ...state,\n                newTrip\n            }\n        }\n        case ActionTypes.DELETE_TRIP + '_FULFILLED': {\n            return {\n                ...state,\n                fetched: true,\n                fetching: false,\n                deleted: true,\n                trip: {},\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n    updating: false\n};\n\nexport default function createReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.CREATE_PHOTO + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.CREATE_PHOTO + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.CREATE_PHOTO + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.DELETE_PHOTO + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { ActionTypes } from '../../utils/constants';\n\nconst initialState = {\n    isCreating: false,\n    updating: false,\n};\n\nexport default function createReducer(state = initialState, action) {\n    switch (action.type) {\n        case ActionTypes.SET_CREATE_STICKER: {\n            const isCreating = !state.isCreating;\n            return {\n                ...state,\n                isCreating,\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_PENDING': \n        case ActionTypes.CREATE_STICKER + '_PENDING': {\n            return {\n                ...state,\n                updating: true,\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_REJECTED': \n        case ActionTypes.CREATE_STICKER + '_REJECTED': {\n            const error = action.payload && action.payload.response && action.payload.response.data;\n\n            return {\n                updating: false,\n                updated: false,\n                error\n            };\n        }\n        case ActionTypes.DELETE_STICKER + '_FULFILLED': \n        case ActionTypes.CREATE_STICKER + '_FULFILLED': {\n            return {\n                ...state,\n                updated: true,\n                updating: false,\n            };\n        }\n        case ActionTypes.RESET:\n            return initialState\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\n// import userReducer from './userReducer';\nimport articlesReducer from './articlesReducer';\nimport destinationReducer from './destinationReducer';\nimport tripReducer from './tripReducer';\nimport photoReducer from './photoReducer';\nimport stickersReducer from './stickerReducer';\n\nexport default combineReducers({\n    // user: userReducer,\n    articles: articlesReducer,\n    destination: destinationReducer,\n    trip: tripReducer,\n    photo: photoReducer,\n    stickers: stickersReducer,\n})","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from './reducers'\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './app';\n\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <Router>\n            <App />\n        </Router>,\n    </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}